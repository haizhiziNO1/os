<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>23-æ•°å­—è®¡ç®—ï¼šä»‹ç»çº¿æ€§ä»£æ•°å’Œæ•°å€¼è®¡ç®—åº“</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>23-æ•°å­—è®¡ç®—ï¼šä»‹ç»çº¿æ€§ä»£æ•°å’Œæ•°å€¼è®¡ç®—åº“</h1>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚</p><p>ç§‘å­¦è®¡ç®—åœ¨ä»Šå¤©å·²ç»å®Œå…¨å¯ä»¥ä½¿ç”¨ C++ äº†ã€‚æˆ‘ä¸æ˜¯ä»äº‹ç§‘å­¦è®¡ç®—è¿™ä¸€é¢†åŸŸçš„å·¥ä½œçš„ï¼Œä¸è¿‡ï¼Œåœ¨å·¥ä½œä¸­ä¹Ÿå¤šå¤šå°‘å°‘æ¥è§¦åˆ°äº†ä¸€äº›è®¡ç®—ç›¸å…³çš„åº“ã€‚ä»Šå¤©ï¼Œæˆ‘å°±ç»™ä½ ä»‹ç»å‡ ä¸ªæœ‰ç”¨çš„è®¡ç®—åº“ã€‚</p><h2>Armadillo</h2><p>è¯´åˆ°è®¡ç®—ï¼Œä½ å¯èƒ½é¦–å…ˆä¼šæƒ³åˆ°çŸ©é˜µã€çŸ¢é‡è¿™äº›ä¸œè¥¿å§ï¼Ÿè¿™äº›è®¡ç®—ï¼Œç¡®å®å°±æ˜¯ç§‘å­¦è®¡ç®—ä¸­çš„å¸¸è§å†…å®¹äº†ã€‚è¿™äº›é¢†åŸŸçš„æ ‡å‡†ï¼Œå³æ˜¯ä¸€äº› Fortran åº“å®šä¸‹çš„ï¼Œå¦‚ï¼š</p><ul>
<li>BLAS <span class="orange">[1]</span></li>
<li>LAPACK <span class="orange">[2]</span></li>
<li>ARPACK <span class="orange">[3]</span></li>
</ul><p>å®ƒä»¬çš„å®ç°å€’ä¸ä¸€å®šç”¨ Fortranï¼Œå°¤å…¶æ˜¯ BLASï¼š</p><ul>
<li>OpenBLAS <span class="orange">[4]</span> æ˜¯ç”¨æ±‡ç¼–å’Œ C è¯­è¨€å†™çš„</li>
<li>Intel MKL <span class="orange">[5]</span> æœ‰é’ˆå¯¹ Intel çš„ç‰¹å®š CPU æŒ‡ä»¤é›†è¿›è¡Œä¼˜åŒ–çš„æ±‡ç¼–ä»£ç </li>
<li>Mir GLAS <span class="orange">[6]</span> æ˜¯ç”¨ D è¯­è¨€å†™çš„</li>
</ul><p>ä¸ç®¡å®ç°çš„æ–¹æ³•æ˜¯å“ªä¸€ç§ï¼Œæš´éœ²å‡ºæ¥çš„å‡½æ•°åå­—æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</p><ul>
<li><code>ddot</code></li>
<li><code>dgemv</code></li>
<li><code>dsyrk</code></li>
<li><code>sgemm</code></li>
<li>â€¦â€¦</li>
</ul><p>è¿™ä¸ªæ¥å£çš„å”¯ä¸€å¥½å¤„ï¼Œåº”è¯¥å°±æ˜¯ï¼Œå®ƒæ˜¯è·¨è¯­è¨€å¹¶ä¸”è·¨å®ç°çš„ğŸ˜…ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨è¿™äº›å‡½æ•°æ—¶ï¼Œä½ å¯ä»¥åˆ‡æ¢ä¸åŒçš„å®ç°ï¼Œè€Œä¸éœ€è¦æ›´æ”¹ä»£ç ã€‚å”¯ä¸€éœ€è¦ä¿®æ”¹çš„ï¼Œé€šå¸¸å°±æ˜¯é“¾æ¥åº“çš„åå­—æˆ–ä½ç½®è€Œå·²ã€‚</p><p>å‡è®¾æˆ‘ä»¬éœ€è¦åšä¸€ä¸ªç®€å•çš„çŸ©é˜µè¿ç®—ï¼Œå¯¹ä¸€ä¸ªçŸ¢é‡è¿›è¡Œæ—‹è½¬ï¼š</p><p>$$<br>
\begin{aligned}<br>
\mathbf{P} &amp;= \begin{bmatrix} 1 \\\ 0 \end{bmatrix}\\\<br>
\mathbf{R} &amp;= \begin{bmatrix}<br>
\cos(\theta) &amp; -\sin(\theta) \\\<br>
\sin(\theta) &amp; \cos(\theta)\end{bmatrix}\\\<br>
\mathbf{P^\prime} &amp;= \mathbf{R} \cdot \mathbf{P}<br>
\end{aligned}<br>
$$</p><!-- [[[read_end]]] --><p>è¿™ä¹ˆä¸€ä¸ªç®€å•çš„æ“ä½œï¼Œç”¨çº¯ C æ¥å£çš„ BLAS æ¥è¡¨è¾¾ï¼Œæœ‰ç‚¹ç—›è‹¦ï¼šä½ éœ€è¦ä½¿ç”¨çš„å¤§æ¦‚æ˜¯ <code>dgemv_</code> å‡½æ•°ï¼Œè€Œè¿™ä¸ªå‡½æ•°éœ€è¦ 11 ä¸ªå‚æ•°ï¼æˆ‘æŸ¥é˜…äº†ä¸€ä¸‹èµ„æ–™ä¹‹åï¼Œä¹Ÿå°±æ”¾å¼ƒäº†ç»™ä½ å±•ç¤ºä¸€ä¸‹å¦‚ä½•è°ƒç”¨ <code>dgemv_</code> çš„ä¼å›¾ï¼Œæˆ‘ä»¬è¿˜æ˜¯è€è€å®å®åœ°çœ‹ä¸€ä¸‹åœ¨ç°ä»£ C++ é‡Œçš„å†™æ³•å§ï¼š</p><pre><code class="language-c++">#include &lt;armadillo&gt;
#include &lt;cmath&gt;
#include &lt;iostream&gt;

using namespace std;

int main()
{
  // ä»£è¡¨ä½ç½®çš„å‘é‡
  arma::vec pos{1.0, 0.0};

  // æ—‹è½¬çŸ©é˜µ
  auto&amp; pi = arma::datum::pi;
  double angle = pi / 2;
  arma::mat rot = {
    {cos(angle), -sin(angle)},
    {sin(angle), cos(angle)}};

  cout &lt;&lt; "Current position:\n"
       &lt;&lt; pos;
  cout &lt;&lt; "Rotating "
       &lt;&lt; angle * 180 / pi
       &lt;&lt; " deg\n";

  arma::vec new_pos = rot * pos;
  cout &lt;&lt; "New position:\n"
       &lt;&lt; new_pos;
}
</code></pre><p>è¿™å°±æ˜¯ä½¿ç”¨ Armadillo <span class="orange">[7]</span> åº“æ¥å®ç°çŸ¢é‡æ—‹è½¬çš„ä»£ç ã€‚è¿™ä¸ªä»£ç ï¼ŒåŸºæœ¬å°±æ˜¯ä¸Šé¢çš„æ•°å­¦å…¬å¼çš„ä¸€ä¸€å¯¹åº”äº†ã€‚ä»£ç ç›¸å½“ç›´ç™½ï¼Œæˆ‘åªéœ€è¦ç¨ç¨è¯´æ˜ä¸€ä¸‹ï¼š</p><ul>
<li>æ‰€æœ‰çš„ Armadillo çš„ç±»å‹å’Œå‡½æ•°éƒ½å®šä¹‰åœ¨ <code>arma</code> åç©ºé—´ä¸‹ã€‚</li>
<li>Armadillo åœ¨ <code>arma::datum</code> ä¸‹å®šä¹‰äº†åŒ…æ‹¬ pi å’Œ e åœ¨å†…çš„ä¸€äº›æ•°å­¦å¸¸é‡ã€‚</li>
<li><code>vec</code> æ˜¯çŸ¢é‡ç±»å‹ï¼Œ<code>mat</code> æ˜¯çŸ©é˜µç±»å‹ï¼Œè¿™ä¸¤ä¸ªç±»å‹å®é™…ä¸Šæ˜¯ <code>Col&lt;double&gt;</code> å’Œ <code>Mat&lt;double&gt;</code> çš„ç¼©å†™åˆ«åã€‚</li>
<li>Armadillo æ”¯æŒä½¿ç”¨ C++11 çš„åˆ—è¡¨åˆå§‹åŒ–è¯­æ³•æ¥åˆå§‹åŒ–å¯¹è±¡ã€‚</li>
<li>Armadillo æ”¯æŒä½¿ç”¨æµæ¥è¾“å‡ºå¯¹è±¡ã€‚</li>
</ul><p>ä¸Šé¢ä»£ç çš„è¾“å‡ºä¸ºï¼š</p><blockquote>
<p><code>Current position:</code><br>
<code>1.0000</code><br>
<code>0</code><br>
<code>Rotating 90 deg</code><br>
<code>New position:</code><br>
<code>6.1232e-17</code><br>
<code>1.0000e+00</code></p>
</blockquote><p>è¾“å‡ºé‡Œé¢çš„ <code>6.1232e-17</code> æ˜¯æµ®ç‚¹æ•°è¡¨ç¤ºä¸ç²¾ç¡®çš„åæœï¼ŒæŠŠå®ƒç†è§£æˆ 0 å°±å¯¹äº†ã€‚</p><p>æˆ‘ä»¬ä¸Šé¢å·²ç»æåˆ°äº† <code>vec</code> å®é™…ä¸Šæ˜¯ <code>Col&lt;double&gt;</code>ï¼ŒåŒç²¾åº¦æµ®ç‚¹æ•°ç±»å‹çš„åˆ—çŸ¢é‡ã€‚è‡ªç„¶ï¼ŒArmadillo ä¹Ÿæœ‰è¡ŒçŸ¢é‡ <code>rowvec</code>ï¼ˆå³ <code>Row&lt;double&gt;</code>ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„æ•°å­—ç±»å‹ï¼Œå¦‚ <code>int</code>ã€ <code>float</code> å’Œ <code>complex&lt;float&gt;</code>ã€‚æ­¤å¤–ï¼Œé™¤äº†å¤§å°ä¸ç¡®å®šçš„çº¿æ€§ä»£æ•°å¯¹è±¡ä¹‹å¤–ï¼ŒArmadillo ä¹Ÿæä¾›äº†å›ºå®šå¤§å°çš„å­ç±»å‹ï¼Œå¦‚ <code>vec::fixed&lt;2&gt;</code> å’Œ <code>mat::fixed&lt;2, 2&gt;</code>ï¼›ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼Œè¿˜æä¾›äº†ä¸å°‘åˆ«åï¼Œå¦‚ <code>imat22</code> ä»£è¡¨ <code>Mat&lt;int&gt;::fixed&lt;2, 2&gt;</code> ç­‰ã€‚å›ºå®šå¤§å°çš„å¯¹è±¡ä¸éœ€è¦åŠ¨æ€å†…å­˜åˆ†é…ï¼Œä½¿ç”¨ä¸Šæœ‰ä¸€å®šçš„æ€§èƒ½ä¼˜åŠ¿ã€‚</p><p>Armadillo æ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„åº“ï¼Œå®ƒçš„å¤´æ–‡ä»¶æ•°é‡è¶…è¿‡äº† 500 ä¸ªã€‚æˆ‘ä»¬ä»Šå¤©ä¸å¯èƒ½ã€ä¹Ÿä¸å¿…è¦æè¿°å®ƒçš„æ‰€æœ‰åŠŸèƒ½ï¼Œåªèƒ½ç¨ç¨éƒ¨åˆ†åˆ—ä¸¾ä¸€ä¸‹ï¼š</p><ul>
<li>é™¤äº†ç›®å‰æåˆ°çš„åˆ—çŸ¢é‡ã€è¡ŒçŸ¢é‡å’ŒçŸ©é˜µå¤–ï¼ŒArmadillo ä¹Ÿæ”¯æŒä¸‰ç»´çš„æ•°æ®ç«‹æ–¹ä½“ï¼Œ<code>Cube</code> æ¨¡æ¿ã€‚</li>
<li>Armadillo æ”¯æŒç¨€ç–çŸ©é˜µï¼Œ<code>SpMat</code> æ¨¡æ¿ã€‚</li>
<li>é™¤äº†æ•°å­¦ä¸Šçš„åŠ ã€å‡ã€ä¹˜è¿ç®—ï¼ŒArmadillo æ”¯æŒæŒ‰å…ƒç´ çš„ä¹˜æ³•ã€é™¤æ³•ã€ç›¸ç­‰ã€ä¸ç­‰ã€å°äºæ¯”è¾ƒç­‰ï¼ˆä½¿ç”¨ <code>%</code>ã€<code>/</code>ã€<code>==</code>ã€<code>!=</code>ã€<code>&lt;</code> ç­‰ï¼‰è¿ç®—ï¼Œç»“æœçš„å¤§å°è·Ÿå‚æ•°ç›¸åŒï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ç›¸åº”è¿ç®—çš„ç»“æœã€‚æŸäº›è¿ç®—ç¬¦å¯èƒ½ä¸å¤ªç›´è§‚ï¼Œå°¤å…¶æ˜¯ <code>%</code>ï¼ˆä¸æ˜¯å–æ¨¡ï¼‰å’Œ <code>==</code>ï¼ˆè¿”å›ä¸æ˜¯å•ä¸ªå¸ƒå°”å€¼ï¼Œè€Œæ˜¯çŸ©é˜µï¼‰ã€‚</li>
<li>Armadillo æ”¯æŒå¯¹éå›ºå®šå¤§å°çš„çŸ¢é‡ã€çŸ©é˜µå’Œç«‹æ–¹ä½“ï¼Œæ”¹å˜å…¶å¤§å°ï¼ˆ<code>.reshape()</code> å’Œ <code>resize()</code>ï¼‰ã€‚</li>
<li>Armadillo å¯ä»¥æ–¹ä¾¿åœ°æŒ‰è¡Œï¼ˆ<code>.col()</code>ï¼‰ã€åˆ—ï¼ˆ<code>.row()</code>ï¼‰ã€å¯¹è§’çº¿ï¼ˆ<code>.diag()</code>ï¼‰è¯»å†™çŸ©é˜µçš„å†…å®¹ï¼ŒåŒ…æ‹¬ç”¨ä¸€ä¸ªçŸ¢é‡å»æ”¹å†™çŸ©é˜µçš„å¯¹è§’çº¿ã€‚</li>
<li>Armadillo å¯ä»¥æ–¹ä¾¿åœ°å¯¹çŸ©é˜µè¿›è¡Œè½¬ç½®ï¼ˆ<code>.t()</code>ï¼‰ã€æ±‚åï¼ˆ<code>.inv()</code>ï¼‰ã€‚</li>
<li>Armadillo å¯ä»¥å¯¹çŸ©é˜µè¿›è¡Œç‰¹å¾åˆ†è§£ï¼ˆ<code>eigen_sym()</code>ã€<code>eigen_gen()</code> ç­‰ï¼‰ã€‚</li>
<li>Armadillo æ”¯æŒå‚…ç«‹å¶å˜æ¢ï¼ˆ<code>fft()</code>ã€<code>fft2()</code> ç­‰ï¼‰ã€‚</li>
<li>Armadillo æ”¯æŒå¸¸è§çš„ç»Ÿè®¡è®¡ç®—ï¼Œå¦‚å¹³å‡å€¼ã€ä¸­ä½å€¼ã€æ ‡å‡†åå·®ç­‰ï¼ˆ<code>mean()</code>ã€<code>median()</code>ã€<code>stddev()</code> ç­‰ï¼‰ã€‚</li>
<li>Armadillo æ”¯æŒå¤šé¡¹å¼æ–¹ç¨‹æ±‚æ ¹ï¼ˆ<code>roots</code>ï¼‰ã€‚</li>
<li>Armadillo æ”¯æŒ kâ€å¹³å‡èšç±»ï¼ˆ<em>k</em>-means clusteringï¼‰ç®—æ³•ï¼ˆ<code>kmeans</code>ï¼‰ã€‚</li>
<li>ç­‰ç­‰ã€‚</li>
</ul><p>å¦‚æœä½ éœ€è¦ç”¨åˆ°è¿™äº›åŠŸèƒ½ï¼Œä½ å¯ä»¥è‡ªå·±å»æŸ¥çœ‹ä¸€ä¸‹å…·ä½“çš„ç»†èŠ‚ï¼Œæˆ‘ä»¬è¿™å„¿åªæå‡ ä¸ªä¸ç¼–ç¨‹æœ‰å…³çš„ç»†èŠ‚ã€‚</p><h3>å¯¹è±¡çš„è¾“å‡º</h3><p>æˆ‘ä»¬ä¸Šé¢å·²ç»å±•ç¤ºäº†ç›´æ¥æŠŠå¯¹è±¡è¾“å‡ºåˆ°ä¸€ä¸ªæµã€‚æˆ‘ä»¬çš„å†™æ³•æ˜¯ï¼š</p><pre><code class="language-c++">cout &lt;&lt; "Current position:\n"
     &lt;&lt; pos;
</code></pre><p>å®é™…ä¸ŠåŸºæœ¬ç­‰ä»·äºè°ƒç”¨ <code>print</code> æˆå‘˜å‡½æ•°ï¼š</p><pre><code class="language-c++">pos.print("Current position:");
</code></pre><p>è¿™ä¸ªå†™æ³•å¯èƒ½ä¼šæ›´ç®€å•äº›ã€‚æ­¤å¤–ï¼Œåœ¨è¿™ä¸¤ç§æƒ…å†µï¼Œè¾“å‡ºçš„æ ¼å¼éƒ½æ˜¯ Armadillo è‡ªåŠ¨æ§åˆ¶çš„ã€‚å¦‚æœä½ å¸Œæœ›è‡ªå·±æ§åˆ¶çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ <code>raw_print</code> æˆå‘˜å‡½æ•°ã€‚æ¯”å¦‚ï¼Œå¯¹äºä¸Šé¢ä»£ç é‡Œå¯¹ <code>new_pos</code> çš„è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥å†™æˆï¼ˆéœ€è¦åŒ…å« &lt;iomanip&gt;ï¼‰ï¼š</p><pre><code class="language-c++">cout &lt;&lt; fixed &lt;&lt; setw(9)
     &lt;&lt; setprecision(4);
new_pos.raw_print(
  cout, "New position:");
</code></pre><p>è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥æœ‰æ•ˆåœ°å¯¹æ ¼å¼ã€å®½åº¦å’Œç²¾åº¦è¿›è¡Œè®¾ç½®ï¼Œèƒ½å¾—åˆ°ï¼š</p><blockquote>
<p><code>New position:</code><br>
<code>0.0000</code><br>
<code>1.0000</code></p>
</blockquote><p>è®°å¾—æˆ‘ä»¬è¯´è¿‡ <code>vec</code> æ˜¯ <code>Col&lt;double&gt;</code> çš„åˆ«åï¼Œå› æ­¤è¾“å‡ºæ˜¯å¤šè¡Œçš„ã€‚æˆ‘ä»¬è¦è¾“å‡ºæˆå•è¡Œçš„è¯ï¼Œè½¬ç½®ï¼ˆtransposeï¼‰ä¸€ä¸‹å°±å¯ä»¥äº†ï¼š</p><pre><code class="language-c++">cout &lt;&lt; fixed &lt;&lt; setw(9)
     &lt;&lt; setprecision(4);
new_pos.t().raw_print(
  cout, "New position:");
</code></pre><p>è¾“å‡ºä¸ºï¼š</p><blockquote>
<p><code>New position:</code><br>
<code>0.0000 1.0000</code></p>
</blockquote><h3>è¡¨è¾¾å¼æ¨¡æ¿</h3><p>å¦‚æœä½ å¥‡æ€ªå‰é¢ <code>dgemv_</code> ä¸ºä»€ä¹ˆæœ‰ 11 ä¸ªå‚æ•°ï¼Œè¿™é‡Œæœ‰ä¸ªæˆ‘æ²¡æœ‰æçš„ç»†èŠ‚æ˜¯ï¼Œå®ƒæ‰§è¡Œçš„å®é™…ä¸Šæ˜¯ä¸ªå¤åˆæ“ä½œï¼š</p><p>$$<br>
\mathbf{y} \gets \alpha\mathbf{A}\cdot\mathbf{x} + \beta\mathbf{y}<br>
$$</p><p>å¦‚æœä½ åªæ˜¯ç®€å•åœ°åšä¹˜æ³•çš„è¯ï¼Œå°±ç›¸å½“äº $\alpha$ ä¸º 1ã€$\beta$ ä¸º 0 çš„ç‰¹æ®Šæƒ…å†µã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æœä½ çœŸçš„å†™äº†ç±»ä¼¼äºä¸Šé¢è¿™æ ·çš„å…¬å¼çš„è¯ï¼Œç¼–è¯‘å™¨å’Œçº¿æ€§ä»£æ•°åº“èƒ½ä¸èƒ½è½¬æˆåˆé€‚çš„è°ƒç”¨ã€è€Œæ²¡æœ‰é¢å¤–çš„å¼€é”€å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ï¼Œè‡³å°‘åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯å¯ä»¥çš„ã€‚ç§˜è¯€å°±æ˜¯è¡¨è¾¾å¼æ¨¡æ¿ï¼ˆexpression templateï¼‰<span class="orange">[8]</span>ã€‚</p><p>é‚£ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼æ¨¡æ¿å‘¢ï¼Ÿæˆ‘ä»¬å…ˆå›è¿‡å»çœ‹æˆ‘ä¸Šé¢çš„ä¾‹å­ã€‚æœ‰æ²¡æœ‰æ³¨æ„åˆ°æˆ‘å†™çš„æ˜¯ï¼š</p><pre><code class="language-c++">arma::vec new_pos = rot * pos;
</code></pre><p>è€Œæ²¡æœ‰ä½¿ç”¨ <code>auto</code> æ¥å£°æ˜ï¼Ÿ</p><p>å…¶ä¸­éƒ¨åˆ†çš„åŸå› æ˜¯ï¼Œ<code>rot * pos</code> çš„ç±»å‹å¹¶ä¸æ˜¯ <code>vec</code>ï¼Œè€Œæ˜¯ï¼š</p><pre><code class="language-c++">const Glue&lt;Mat&lt;double&gt;, Col&lt;double&gt;, glue_times&gt;
</code></pre><p>æ¢å¥è¯è¯´ï¼Œç»“æœæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè€Œå¹¶æ²¡æœ‰å®é™…è¿›è¡Œè®¡ç®—ã€‚å¦‚æœæˆ‘ç”¨ <code>auto</code> çš„è¯ï¼Œè¡Œä¸ºä¸Šä¼¼ä¹ä¸€åˆ‡éƒ½æ­£å¸¸ï¼Œä½†æˆ‘æ¯æ¬¡è¾“å‡ºè¿™ä¸ªç»“æœæ—¶ï¼Œéƒ½ä¼šé‡æ–°è¿›è¡Œä¸€æ¬¡çŸ©é˜µçš„ä¹˜æ³•ï¼è€Œæˆ‘ç”¨ <code>arma::vec</code> æ¥æ”¶çš„è¯ï¼Œæ„é€ æ—¶å°±ç›´æ¥è¿›è¡Œäº†è®¡ç®—ï¼Œå­˜å‚¨äº†è¡¨è¾¾å¼çš„ç»“æœã€‚</p><p>ä¸Šé¢çš„ç®€å•ä¾‹å­ä¸èƒ½å®é™…è§¦å‘å¯¹ <code>dgemv_</code> çš„è°ƒç”¨ï¼Œæˆ‘ç”¨ä¸‹é¢çš„ä»£ç å®é™…éªŒè¯å‡ºäº†è¡¨è¾¾å¼æ¨¡æ¿äº§ç”Ÿçš„ä¼˜åŒ–ï¼ˆ<code>fill::randu</code> è¡¨ç¤ºå¯¹çŸ¢é‡å’ŒçŸ©é˜µçš„å†…å®¹è¿›è¡Œéšæœºå¡«å……ï¼‰ï¼š</p><pre><code class="language-c++">#include &lt;armadillo&gt;
#include &lt;iostream&gt;

using namespace std;
using namespace arma;

int main()
{
  vec x(8, fill::randu);
  mat r(8, 8, fill::randu);
  vec result = 2.5 * r * x;
  cout &lt;&lt; result;
}
</code></pre><p>èµ‹å€¼è¯­å¥å³è¾¹çš„ç±»å‹æ˜¯ï¼š</p><pre><code class="language-c++">const Glue&lt;eOp&lt;Mat&lt;double&gt;,
               eop_scalar_times&gt;,
           Col&lt;double&gt;, glue_times&gt;
</code></pre><p>å½“ä½¿ç”¨è¿™ä¸ªè¡¨è¾¾å¼æ„é€  <code>vec</code> æ—¶ï¼Œå°±ä¼šå®é™…å‘ç”Ÿå¯¹ <code>dgemv_</code> çš„è°ƒç”¨ã€‚æˆ‘ä¹Ÿç¡®å®è·Ÿè¸ªåˆ°äº†ï¼Œåœ¨å°†è¦è°ƒç”¨ <code>dgemv_</code> æ—¶ï¼Œæ ‡é‡å€¼ 2.5 ç¡®å®åœ¨å‚æ•° <code>alpha</code> æŒ‡å‘çš„ä½ç½®ä¸Šï¼ˆè¿™ä¸ªæ¥å£çš„å‚æ•°éƒ½æ˜¯æŒ‡é’ˆï¼‰ã€‚</p><p>ä»ä¸Šé¢çš„æè¿°å¯ä»¥çœ‹åˆ°ï¼Œè¡¨è¾¾å¼æ¨¡æ¿æ˜¯æŠŠåŒåˆƒå‰‘ï¼šæ—¢å¯ä»¥æé«˜ä»£ç çš„æ€§èƒ½ï¼Œåˆèƒ½å¢åŠ ä»£ç è¢«è¯¯ç”¨çš„å¯èƒ½æ€§ã€‚åœ¨å¯èƒ½ç”¨åˆ°è¡¨è¾¾å¼æ¨¡æ¿çš„åœ°æ–¹ï¼Œä½ éœ€è¦æ³¨æ„è¿™äº›é—®é¢˜ã€‚</p><h3>å¹³å°ç»†èŠ‚</h3><p>Armadillo çš„æ–‡æ¡£é‡Œè¯´æ˜äº†å¦‚ä½•ä»æºä»£ç è¿›è¡Œå®‰è£…ï¼Œä½†åœ¨ Linux å’Œ macOS ä¸‹é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…å¯èƒ½æ˜¯æ›´å¿«çš„æ–¹å¼ã€‚åœ¨ CentOS ä¸‹å¯ä½¿ç”¨ <code>sudo yum install armadillo-devel</code>ï¼Œåœ¨ macOS ä¸‹å¯ä½¿ç”¨ <code>brew install armadillo</code>ã€‚ä½¿ç”¨åŒ…ç®¡ç†å™¨ä¸€èˆ¬ä¹Ÿä¼šåŒæ—¶å®‰è£…å¸¸è§çš„ä¾èµ–è½¯ä»¶ï¼Œå¦‚ ARPACK å’Œ OpenBLASã€‚</p><p>åœ¨ Windows ä¸Šï¼ŒArmadillo çš„å®‰è£…åŒ…é‡Œè‡ªå¸¦äº†ä¸€ä¸ªåŸºæœ¬ç‰ˆæœ¬çš„ 64 ä½ BLAS å’Œ LAPACK åº“ã€‚å¦‚æœéœ€è¦æ›´é«˜æ€§èƒ½æˆ– 32 ä½ç‰ˆæœ¬çš„è¯ï¼Œå°±éœ€è¦è‡ªå·±å¦å¤–å»å®‰è£…äº†ã€‚é™¤éä½ åªæ˜¯åšä¸€äº›éå¸¸ç®€å•çš„çº¿æ€§ä»£æ•°è®¡ç®—ï¼ˆå°±åƒæˆ‘ä»Šå¤©çš„ä¾‹å­ï¼‰ï¼Œé‚£ç›´æ¥å‘Šè¯‰ Armadillo ä¸è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ä¹Ÿè¡Œã€‚</p><blockquote>
<p><code>cl /EHsc /DARMA_DONT_USE_BLAS /DARMA_DONT_USE_LAPACK â€¦</code></p>
</blockquote><h2>Boost.Multiprecision</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒC å’Œ C++ï¼ˆç”šè‡³æ¨è€Œå¹¿ä¹‹åˆ°å¤§éƒ¨åˆ†çš„å¸¸ç”¨ç¼–ç¨‹è¯­è¨€ï¼‰é‡Œçš„æ•°å€¼ç±»å‹æ˜¯æœ‰ç²¾åº¦é™åˆ¶çš„ã€‚æ¯”å¦‚ï¼Œä¸Šä¸€è®²çš„ä»£ç é‡Œæˆ‘ä»¬å°±ç”¨åˆ°äº† <code>INT_MIN</code>ï¼Œæœ€å°çš„æ•´æ•°ã€‚å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä½¿ç”¨ç›®å‰è¿™äº›ç±»å‹æ˜¯å¤Ÿç”¨çš„ï¼ˆæœ€é«˜ä¸€èˆ¬æ˜¯ 64 ä½æ•´æ•°å’Œ 80 ä½æµ®ç‚¹æ•°ï¼‰ã€‚ä½†ä¹Ÿæœ‰å¾ˆå¤šæƒ…å†µï¼Œè¿™äº›æ ‡å‡†çš„ç±»å‹è¿œè¿œä¸èƒ½æ»¡è¶³éœ€è¦ã€‚è¿™æ—¶ä½ å°±éœ€è¦ä¸€ä¸ªé«˜ç²¾åº¦çš„æ•°å€¼ç±»å‹äº†ã€‚</p><p>æœ‰ä¸€æ¬¡æˆ‘éœ€è¦æ‰¾ä¸€ä¸ªé«˜ç²¾åº¦æ•´æ•°ç±»å‹å’Œè®¡ç®—åº“ï¼Œæœ€åæ‰¾åˆ°çš„å°±æ˜¯ Boost.Multiprecision <span class="orange">[9]</span>ã€‚å®ƒåŸºæœ¬æ»¡è¶³æˆ‘çš„éœ€æ±‚ï¼Œä»¥åŠä¸€èˆ¬æ„ä¹‰ä¸Šå¯¹åº“çš„æœŸæœ›ï¼š</p><ul>
<li>æ­£ç¡®å®ç°æˆ‘éœ€è¦çš„åŠŸèƒ½</li>
<li>æ¥å£ç¬¦åˆç›´è§‰ã€æ˜“ç”¨</li>
<li>æœ‰è‰¯å¥½çš„æ€§èƒ½</li>
</ul><p>æ­£ç¡®å®ç°åŠŸèƒ½è¿™ç‚¹æˆ‘å°±ä¸å¤šè®²äº†ã€‚è¿™æ˜¯ä¸€ä¸ªåŸºæœ¬å‡ºå‘ç‚¹ï¼Œæ²¡æœ‰å¤ªå¤šå¯è®¨è®ºçš„åœ°æ–¹ã€‚åœ¨æˆ‘ä¸Šæ¬¡çš„éœ€æ±‚é‡Œï¼Œå¯¹æ€§èƒ½å…¶å®ä¹Ÿæ²¡æœ‰å¾ˆé«˜çš„è¦æ±‚ã€‚è®©æˆ‘å¯¹ Boost.Multiprecision æ»¡æ„çš„ä¸»è¦åŸå› ï¼Œå°±æ˜¯å®ƒçš„æ¥å£äº†ã€‚</p><h3>æ¥å£æ˜“ç”¨æ€§</h3><p>æˆ‘åœ¨ <a href="https://time.geekbang.org/column/article/179363">[ç¬¬ 12 è®²]</a> æåˆ°äº† CLNã€‚å®ƒå¯¹æˆ‘æ¥è®²å°±æ˜¯ä¸ªåé¢æ•™æã€‚å®ƒçš„æ•´æ•°ç±»å‹ä¸ä»…ä¸æä¾› <code>%</code> è¿ç®—ç¬¦ï¼Œå±…ç„¶è¿˜ä¸æä¾› <code>/</code> è¿ç®—ç¬¦ï¼å®ƒå¼ºè¿«ç”¨æˆ·åœ¨ä¸‹é¢ä¸¤ä¸ªæ–¹æ¡ˆä¸­åšå‡ºé€‰æ‹©ï¼š</p><ul>
<li>ä½¿ç”¨ <code>truncate2</code> å‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªå•†æ•°å’Œä½™æ•°</li>
<li>ä½¿ç”¨ <code>exquo</code> å‡½æ•°ï¼Œå½“ä¸”ä»…å½“å¯ä»¥æ•´é™¤çš„æ—¶å€™</li>
</ul><p>ä¸ç®¡ä½œè€…çš„è®¾è®¡åŸåˆ™æ˜¯ä»€ä¹ˆï¼Œè¿™ç®€ç›´å°±æ˜¯æ˜“ç”¨æ€§æ–¹é¢çš„ç¾éš¾äº†â€”â€”ä¸ä»…è¿™äº›å‡½æ•°è¦æŸ¥æ–‡æ¡£æ‰èƒ½çŸ¥æ™“ï¼Œè€Œä¸”æœ‰çš„åœ°æ–¹æˆ‘çœŸçš„åªéœ€è¦ç®€å•çš„é™¤æ³•å‘€â€¦â€¦</p><p>å“¦ï¼Œå¯¹äº†ï¼Œå®ƒåœ¨ Windows ç¼–è¯‘è¿˜å¾ˆä¸æ–¹ä¾¿ï¼Œè€Œæˆ‘é‚£æ—¶ç”¨çš„æ­£æ˜¯ Windowsã€‚</p><p>Boost.Multiprecision çš„æƒ…å†µåˆ™æ°æ°ç›¸åï¼Œè®©æˆ‘å½“å³å¤§ä¸ºæ»¡æ„ï¼š</p><ul>
<li>ä½¿ç”¨åŸºæœ¬çš„ <code>cpp_int</code> å¯¹è±¡ä¸éœ€è¦é¢„å…ˆç¼–è¯‘åº“ï¼Œåªéœ€è¦ Boost çš„å¤´æ–‡ä»¶å’Œä¸€ä¸ªå¥½çš„ç¼–è¯‘å™¨ã€‚</li>
<li>å¸¸ç”¨è¿ç®—ç¬¦ <code>+</code>ã€<code>-</code>ã€<code>*</code>ã€<code>/</code>ã€<code>%</code> ä¸€ä¸ªä¸ç¼ºï¼Œå…¨éƒ¨éƒ½æœ‰ã€‚</li>
<li>å¯ä»¥è‡ªç„¶åœ°é€šè¿‡æ•´æ•°å’Œå­—ç¬¦ä¸²æ¥è¿›è¡Œæ„é€ ã€‚</li>
<li>æä¾›äº†ç”¨æˆ·è‡ªå®šä¹‰å­—é¢é‡æ¥é«˜æ•ˆåœ°è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
<li>åœ¨ä½¿ç”¨ IO æµæ—¶ï¼Œè¾“å…¥è¾“å‡ºæ—¢å¯ä»¥ä½¿ç”¨åè¿›åˆ¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>hex</code> æ¥åˆ‡æ¢åˆ°åå…­è¿›åˆ¶ã€‚</li>
</ul><p>ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å®ƒçš„åŸºæœ¬åŠŸèƒ½ï¼š</p><pre><code class="language-c++">#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;boost/multiprecision/cpp_int.hpp&gt;

using namespace std;

int main()
{
  using namespace boost::
    multiprecision::literals;
  using boost::multiprecision::
    cpp_int;

  cpp_int a =
    0x123456789abcdef0_cppi;
  cpp_int b = 16;
  cpp_int c{"0400"};
  cpp_int result = a * b / c;
  cout &lt;&lt; hex &lt;&lt; result &lt;&lt; endl;
  cout &lt;&lt; dec &lt;&lt; result &lt;&lt; endl;
}
</code></pre><p>è¾“å‡ºæ˜¯ï¼š</p><blockquote>
<p><code>123456789abcdef</code><br>
<code>81985529216486895</code></p>
</blockquote><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>cpp_int</code> å¯ä»¥é€šè¿‡è‡ªå®šä¹‰å­—é¢é‡ï¼ˆåç¼€ <code>_cppi</code>ï¼›åªèƒ½åå…­è¿›åˆ¶ï¼‰æ¥åˆå§‹åŒ–ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªæ™®é€šæ•´æ•°æ¥åˆå§‹åŒ–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å­—ç¬¦ä¸²æ¥åˆå§‹åŒ–ï¼ˆå¹¶å¯ä»¥ä½¿ç”¨ <code>0x</code> å’Œ <code>0</code> å‰ç¼€æ¥é€‰æ‹©åå…­è¿›åˆ¶å’Œå…«è¿›åˆ¶ï¼‰ã€‚æ‹¿å®ƒå¯ä»¥æ­£å¸¸åœ°è¿›è¡ŒåŠ å‡ä¹˜é™¤æ“ä½œï¼Œä¹Ÿå¯ä»¥é€šè¿‡ IO æµæ¥è¾“å…¥è¾“å‡ºã€‚</p><h3>æ€§èƒ½</h3><p>Boost.Multiprecision ä½¿ç”¨äº†è¡¨è¾¾å¼æ¨¡æ¿å’Œ C++11 çš„ç§»åŠ¨æ¥é¿å…ä¸å¿…è¦çš„æ‹·è´ã€‚åè€…å½“ç„¶æ˜¯ä»¶å¥½äº‹ï¼Œè€Œå‰è€…æ›¾ç»å‘äº†æˆ‘ä¸€ä¸‹â€”â€”æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨ Boost.Multiprecision æ—¶éå¸¸å›°æƒ‘ä¸ºä»€ä¹ˆæˆ‘ä½¿ç”¨ <code>half(n - 1)</code> è°ƒç”¨ä¸‹é¢çš„ç®€å•å‡½æ•°å±…ç„¶ä¼šç¼–è¯‘ä¸è¿‡ï¼š</p><pre><code class="language-c++">template &lt;typename N&gt;
inline N half(N n)
{
  return n / 2;
}
</code></pre><p>æˆ‘çš„æ„å›¾å½“ç„¶æ˜¯ <code>N</code> åº”å½“è¢«æ¨å¯¼ä¸º <code>cpp_int</code>ï¼Œ<code>half</code> çš„ç»“æœä¹Ÿæ˜¯ <code>cpp_int</code>ã€‚å¯å®é™…ä¸Šï¼Œ<code>n - 1</code> çš„ç»“æœè·Ÿä¸Šé¢çš„ Armadillo å±•ç¤ºçš„æƒ…å†µç±»ä¼¼ï¼Œæ˜¯å¦å¤–ä¸€ä¸ªå•ç‹¬çš„ç±»å‹ã€‚æˆ‘éœ€è¦æŠŠ <code>half(n - 1)</code> æ”¹å†™æˆ <code>half(N(n - 1))</code> æ‰èƒ½å¾—åˆ°æœŸæœ›çš„ç»“æœã€‚</p><p>æˆ‘åšçš„è®¡ç®—æŒºç®€å•ï¼Œå¹¶ä¸è§‰å¾—è¡¨è¾¾å¼æ¨¡æ¿å¯¹æˆ‘çš„è®¡ç®—æœ‰å•¥å¸®åŠ©ï¼Œæ‰€ä»¥æˆ‘æœ€åæ˜¯ç¦ç”¨äº†è¡¨è¾¾å¼æ¨¡æ¿ï¼š</p><pre><code class="language-c++">typedef boost::multiprecision::
  number&lt;
    boost::multiprecision::
      cpp_int_backend&lt;&gt;,
    boost::multiprecision::et_off&gt;
    int_type;
</code></pre><p>ç±»ä¼¼äº Armadillo å¯ä»¥æ¢ä¸åŒçš„ BLAS å’Œ LAPACK å®ç°ï¼ŒBoost.Multiprecision ä¹Ÿå¯ä»¥æ”¹æ¢ä¸åŒçš„åç«¯ã€‚æ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æ‰“ç®—ä½¿ç”¨ GMP <span class="orange">[10]</span> çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦åŒ…å«åˆ©ç”¨ GMP çš„å¤´æ–‡ä»¶ï¼Œå¹¶æŠŠä¸Šé¢çš„ <code>int_type</code> çš„å®šä¹‰ä¿®æ­£ä¸€ä¸‹ï¼š</p><pre><code class="language-c++">#include &lt;boost/multiprecision/gmp.hpp&gt;

typedef boost::multiprecision::
  number&lt;
    boost::multiprecision::gmp_int,
    boost::multiprecision::et_off&gt;
    int_type;
</code></pre><p>æ³¨æ„ï¼Œæˆ‘å¹¶ä¸æ˜¯æ¨èä½ æ¢ç”¨ GMPã€‚å¦‚æœä½ çœŸçš„å¯¹æ€§èƒ½éå¸¸æ¸´æ±‚çš„è¯ï¼Œåº”å½“è¿›è¡Œæµ‹è¯•æ¥é€‰æ‹©åˆé€‚çš„åç«¯ã€‚å¦åˆ™ç¼ºçœçš„åç«¯æ˜“ç”¨æ€§æœ€å¥½â€”â€”æ¯”å¦‚ï¼Œä½¿ç”¨ GMP åç«¯å°±ä¸èƒ½ä½¿ç”¨è‡ªå®šä¹‰å­—é¢é‡äº†ã€‚</p><p>æˆ‘å½“æ—¶å¯»æ‰¾é«˜ç²¾åº¦ç®—æœ¯åº“æ˜¯ä¸ºäº†åš RSA åŠ è§£å¯†ã€‚è®¡ç®—æœ¬èº«ä¸å¤æ‚ï¼Œå±äºç¼–ç¨‹å‡ å°æ—¶ã€è¿è¡Œå‡ æ¯«ç§’çš„æƒ…å†µã€‚å¦‚æœä½ æœ‰å…´è¶£çš„è¯ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹æˆ‘é‚£æ—¶çš„æŒ‘é€‰è¿‡ç¨‹å’Œæœ€ç»ˆä»£ç  <span class="orange">[11]</span>ã€‚</p><p>Boost é‡Œå¥½ä¸œè¥¿å¾ˆå¤šï¼Œè¿œè¿œä¸æ­¢è¿™ä¸€æ ·ã€‚ä¸‹ä¸€è®²æˆ‘ä»¬å°±æ¥ä¸“é—¨èŠèŠ Boostã€‚</p><h2>å†…å®¹å°ç»“</h2><p>æœ¬è®²æˆ‘ä»¬è®¨è®ºäº†ä¸¤ä¸ªè¿›è¡Œè®¡ç®—çš„æ¨¡æ¿åº“ï¼ŒArmadillo å’Œ Boost.Multiprecisionï¼Œå¹¶è®¨è®ºäº†å®ƒä»¬ç”¨åˆ°çš„è¡¨è¾¾å¼æ¨¡æ¿æŠ€å·§å’Œç›¸å…³çš„è®¡ç®—åº“ï¼Œå¦‚ BLASã€LAPACK å’Œ GMPã€‚å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ C++ ä½ å¯ä»¥ç«™åˆ°å·¨äººè‚©ä¸Šï¼Œè½»æ¾å†™å‡ºé«˜æ€§èƒ½çš„è®¡ç®—ä»£ç ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>æ€§èƒ½å’Œæ˜“ç”¨æ€§å¾€å¾€æ˜¯æœ‰çŸ›ç›¾çš„ã€‚ä½ å¯¹æ€§èƒ½å’Œæ˜“ç”¨æ€§æœ‰ä»€ä¹ˆæ ·çš„åå¥½å‘¢ï¼Ÿæ¬¢è¿ç•™è¨€ä¸æˆ‘åˆ†äº«ã€‚</p><h2><span class="reference">å‚è€ƒèµ„æ–™</span></h2><p><span class="reference">[1] Wikipedia, â€œBasic Linear Algebra Subprogramsâ€. <a href="https://en.wikipedia.org/wiki/Basic_Linear_Algebra_Subprograms">https://en.wikipedia.org/wiki/Basic_Linear_Algebra_Subprograms</a> </span></p><p><span class="reference">[2] Wikipedia, â€œLAPACKâ€. <a href="https://en.wikipedia.org/wiki/LAPACK">https://en.wikipedia.org/wiki/LAPACK</a> </span></p><p><span class="reference">[3] Wikipedia, â€œARPACKâ€. <a href="https://en.wikipedia.org/wiki/ARPACK">https://en.wikipedia.org/wiki/ARPACK</a> </span></p><p><span class="reference">[4] Zhang Xianyi et al., OpenBLAS. <a href="https://github.com/xianyi/OpenBLAS">https://github.com/xianyi/OpenBLAS</a> </span></p><p><span class="reference">[5] Intel, Math Kernel Library. <a href="https://software.intel.com/mkl">https://software.intel.com/mkl</a> </span></p><p><span class="reference">[6] Ilya Yaroshenko, mir-glas. <a href="https://github.com/libmir/mir-glas">https://github.com/libmir/mir-glas</a> </span></p><p><span class="reference">[7] Conrad Sanderson and Ryan Curtin, â€œArmadillo: C++ library for linear algebra &amp; scientific computingâ€. <a href="http://arma.sourceforge.net/">http://arma.sourceforge.net/</a> </span></p><p><span class="reference">[8] Wikipedia, â€œExpression templatesâ€. <a href="https://en.wikipedia.org/wiki/Expression_templates">https://en.wikipedia.org/wiki/Expression_templates</a> </span></p><p><span class="reference">[9] John Maddock, Boost.Multiprecision. <a href="https://www.boost.org/doc/libs/release/libs/multiprecision/doc/html/index.html">https://www.boost.org/doc/libs/release/libs/multiprecision/doc/html/index.html</a> </span></p><p><span class="reference">[10] The GNU MP bignum library. <a href="https://gmplib.org/">https://gmplib.org/</a> </span></p><p><span class="reference">[11] å´å’ç‚œ, â€œChoosing a multi-precision library for C++â€”a critiqueâ€. <a href="https://yongweiwu.wordpress.com/2016/06/04/choosing-a-multi-precision-library-for-c-a-critique/">https://yongweiwu.wordpress.com/2016/06/04/choosing-a-multi-precision-library-for-c-a-critique/</a> </span></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            å»–ç†ŠçŒ«  2020-01-17 08:48:12
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            æ˜“ç”¨çš„ä¸œè¥¿çµæ´»æ€§å°±ç¨å¾®å¼±ä¸€äº›ï¼Œåœ¨èƒ½å¿«é€Ÿå®Œæˆä¸šåŠ¡çš„æ—¶å€™ï¼Œæˆ‘è¿˜æ˜¯æ¯”è¾ƒåå‘æ˜“ç”¨æ€§ï¼Œä¸€æŸ¥æ–‡æ¡£é©¬ä¸Šå°±å¯ä»¥ç”¨èµ·æ¥ï¼ŒçœŸçš„å‡ºç°æ€§èƒ½ç“¶é¢ˆçš„æ—¶å€™å†å»æŠ˜è…¾å¤æ‚æ€§èƒ½å¥½çš„ä¸œè¥¿ã€‚<br>ç»™éœ€è¦å­¦ä¹ çº¿æ€§ä»£æ•°çš„å°ä¼™ä¼´æ¨èä¸€ä¸ªæ•™æï¼šhttp:&#47;&#47;textbooks.math.gatech.edu&#47;ila&#47;index.html<br>éœ€è¦ç‚¹è‹±è¯­åŸºç¡€æ‰è¡Œã€‚ 
        </div>
        
    </div>
</li>
            </ul>
</div>
</body>
</html>