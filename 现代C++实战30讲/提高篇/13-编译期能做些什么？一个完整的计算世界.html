<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>13-ç¼–è¯‘æœŸèƒ½åšäº›ä»€ä¹ˆï¼Ÿä¸€ä¸ªå®Œæ•´çš„è®¡ç®—ä¸–ç•Œ</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>13-ç¼–è¯‘æœŸèƒ½åšäº›ä»€ä¹ˆï¼Ÿä¸€ä¸ªå®Œæ•´çš„è®¡ç®—ä¸–ç•Œ</h1>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚</p><p>ä¸Šä¸€è®²æˆ‘ä»¬ç®€å•ä»‹ç»äº†æ¨¡æ¿çš„åŸºæœ¬ç”¨æ³•åŠå…¶åœ¨æ³›å‹ç¼–ç¨‹ä¸­çš„åº”ç”¨ã€‚è¿™ä¸€è®²æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ¨¡æ¿çš„å¦å¤–ä¸€ç§é‡è¦ç”¨é€”â€”â€”ç¼–è¯‘æœŸè®¡ç®—ï¼Œä¹Ÿç§°ä½œâ€œæ¨¡æ¿å…ƒç¼–ç¨‹â€ã€‚</p><h2>ç¼–è¯‘æœŸè®¡ç®—</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬ç»™å‡ºä¸€ä¸ªå·²ç»è¢«è¯æ˜çš„ç»“è®ºï¼šC++ æ¨¡æ¿æ˜¯å›¾çµå®Œå…¨çš„ <span class="orange">[1]</span>ã€‚è¿™å¥è¯çš„æ„æ€æ˜¯ï¼Œä½¿ç”¨ C++ æ¨¡æ¿ï¼Œä½ å¯ä»¥åœ¨ç¼–è¯‘æœŸé—´æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„å›¾çµæœºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥å®Œæˆä»»ä½•çš„è®¡ç®—ä»»åŠ¡ã€‚</p><p>å½“ç„¶ï¼Œè¿™åªæ˜¯ç†è®ºä¸Šçš„ç»“è®ºã€‚ä»å®é™…çš„è§’åº¦ï¼Œæˆ‘ä»¬å¹¶ä¸<strong>æƒ³</strong>ã€ä¹Ÿä¸å¯èƒ½åœ¨ç¼–è¯‘æœŸå®Œæˆæ‰€æœ‰çš„è®¡ç®—ï¼Œæ›´ä¸ç”¨è¯´ç¼–è¯‘æœŸçš„ç¼–ç¨‹æ˜¯å¾ˆå®¹æ˜“è®©äººçœ‹ä¸æ‡‚çš„â€”â€”å› ä¸ºè¿™å¹¶ä¸æ˜¯è¯­è¨€è®¾è®¡çš„åˆè¡·ã€‚å³ä¾¿å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿè¿˜æ˜¯éœ€è¦äº†è§£ä¸€ä¸‹æ¨¡æ¿å…ƒç¼–ç¨‹çš„åŸºæœ¬æ¦‚å¿µï¼šå®ƒä»ç„¶æœ‰ä¸€äº›å®ç”¨çš„åœºæ™¯ï¼Œå¹¶ä¸”åœ¨å®é™…çš„å·¥ç¨‹ä¸­ä½ ä¹Ÿå¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„ä»£ç ã€‚è™½ç„¶æˆ‘ä»¬åœ¨å¼€ç¯‡å°±è¯´è¿‡ä¸è¦ç‚«æŠ€ï¼Œä½†ä½¿ç”¨æ¨¡æ¿å…ƒç¼–ç¨‹å†™å‡ºçš„ä»£ç ä»ç„¶æ˜¯å¯ç†è§£çš„ï¼Œå°¤å…¶æ˜¯å¦‚æœä½ å¯¹é€’å½’ä¸å‘æ€µçš„è¯ã€‚</p><p>å¥½ï¼Œé—²è¯å°‘å™ï¼Œæˆ‘ä»¬ä»ç„¶æ‹¿ä»£ç è¯´è¯ï¼š</p><pre><code class="language-c++">template &lt;int n&gt;
struct factorial {
  static const int value =
    n * factorial&lt;n - 1&gt;::value;
};

template &lt;&gt;
struct factorial&lt;0&gt; {
  static const int value = 1;
};
</code></pre><!-- [[[read_end]]] --><p>ä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªé€’å½’çš„é˜¶ä¹˜å‡½æ•°ã€‚å¯ä»¥çœ‹å‡ºï¼Œå®ƒå®Œå…¨ç¬¦åˆé˜¶ä¹˜çš„é€’å½’å®šä¹‰ï¼š</p><p>$$<br>
\begin{aligned}<br>
0! &amp;= 1 \\\<br>
n! &amp;= n \times (n - 1)!<br>
\end{aligned}<br>
$$</p><p>é™¤äº†é¡ºåºæœ‰ç‰¹å®šçš„è¦æ±‚â€”â€”å…ˆå®šä¹‰ï¼Œæ‰èƒ½ç‰¹åŒ–â€”â€”å†åŠ è¯­æ³•æœ‰ç‚¹ç‰¹åˆ«ï¼Œä»£ç åŸºæœ¬ä¸Šå°±æ˜¯è¿™ä¸ªæ•°å­¦å®šä¹‰çš„ç®€å•æ˜ å°„äº†ã€‚</p><p>é‚£æˆ‘ä»¬æ€ä¹ˆçŸ¥é“è¿™ä¸ªè®¡ç®—æ˜¯ä¸æ˜¯åœ¨ç¼–è¯‘æ—¶åšçš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç›´æ¥çœ‹ç¼–è¯‘è¾“å‡ºã€‚ä¸‹é¢ç›´æ¥è´´å‡ºå¯¹ä¸Šé¢è¿™æ ·çš„ä»£ç åŠ è¾“å‡ºï¼ˆ<code>printf("%d\n", factorial&lt;10&gt;::value);</code>ï¼‰åœ¨ x86-64 ä¸‹çš„ç¼–è¯‘ç»“æœï¼š</p><pre><code class="language-assembly">.LC0:
        .string "%d\n"
main:
        push    rbp
        mov     rbp, rsp
        mov     esi, 3628800
        mov     edi, OFFSET FLAT:.LC0
        mov     eax, 0
        call    printf
        mov     eax, 0
        pop     rbp
        ret
</code></pre><p>æˆ‘ä»¬å¯ä»¥æ˜ç¡®çœ‹åˆ°ï¼Œç¼–è¯‘ç»“æœé‡Œæ˜æ˜ç™½ç™½ç›´æ¥å‡ºç°äº†å¸¸é‡ 3628800ã€‚ä¸Šé¢é‚£äº›é€’å½’ä»€ä¹ˆçš„ï¼Œå®Œå…¨éƒ½æ²¡æœ‰äº†è¸ªå½±ã€‚</p><p>å¦‚æœæˆ‘ä»¬ä¼ é€’ä¸€ä¸ªè´Ÿæ•°ç»™ <code>factorial</code> å‘¢ï¼Ÿè¿™æ—¶çš„ç»“æœå°±åº”è¯¥æ˜¯ç¼–è¯‘æœŸé—´çš„é€’å½’æº¢å‡ºã€‚å¦‚ GCC ä¼šæŠ¥å‘Šï¼š</p><blockquote>
<p>fatal error: template instantiation depth exceeds maximum of 900 (use -ftemplate-depth= to increase the maximum)</p>
</blockquote><p>å¦‚æœæŠŠ <code>int</code> æ”¹æˆ <code>unsigned</code>ï¼Œä¸åŒçš„ç¼–è¯‘å™¨å’Œä¸åŒçš„æ ‡å‡†é€‰é¡¹ä¼šå¯¼è‡´ä¸åŒçš„ç»“æœã€‚æœ‰äº›æƒ…å†µä¸‹é”™è¯¯ä¿¡æ¯å®Œå…¨ä¸å˜ï¼Œæœ‰äº›æƒ…å†µä¸‹åˆ™ä¼šæŠ¥è´Ÿæ•°ä¸èƒ½è½¬æ¢åˆ° <code>unsigned</code>ã€‚é€šç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ <code>static_assert</code>ï¼Œç¡®ä¿å‚æ•°æ°¸è¿œä¸ä¼šæ˜¯è´Ÿæ•°ã€‚</p><pre><code class="language-c++">template &lt;int n&gt;
struct factorial {
  static_assert(
    n &gt;= 0,
    "Arg must be non-negative");
  static const int value =
    n * factorial&lt;n - 1&gt;::value;
};
</code></pre><p>è¿™æ ·ï¼Œå½“ <code>factorial</code> æ¥æ”¶åˆ°ä¸€ä¸ªè´Ÿæ•°ä½œä¸ºå‚æ•°æ—¶ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªå¹²è„†çš„é”™è¯¯ä¿¡æ¯ï¼š</p><blockquote>
<p>error: static assertion failed: Arg must be non-negative</p>
</blockquote><p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€äº›æ›´å¤æ‚çš„ä¾‹å­ã€‚è¿™äº›ä¾‹å­ä¸æ˜¯ä¸ºäº†è®©ä½ çœŸçš„å»å†™è¿™æ ·çš„ä»£ç ï¼Œè€Œæ˜¯å¸®åŠ©ä½ å……åˆ†ç†è§£ç¼–è¯‘æœŸç¼–ç¨‹çš„å¼ºå¤§å¨åŠ›ã€‚å¦‚æœè¿™äº›ä¾‹å­ä½ éƒ½å®Œå…¨æŒæ¡äº†ï¼Œé‚£ä»¥åç¢°åˆ°å°çš„æ¨¡æ¿é—®é¢˜ï¼Œä½ ä¸€å®šå¯ä»¥è½»æ¾è§£å†³ï¼Œå®Œå…¨ä¸åœ¨è¯ä¸‹ã€‚</p><p>å›æƒ³ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¦è¿›è¡Œç¼–è¯‘æœŸç¼–ç¨‹ï¼Œæœ€ä¸»è¦çš„ä¸€ç‚¹ï¼Œæ˜¯éœ€è¦æŠŠè®¡ç®—è½¬å˜æˆç±»å‹æ¨å¯¼ã€‚æ¯”å¦‚ï¼Œä¸‹é¢çš„æ¨¡æ¿å¯ä»¥ä»£è¡¨æ¡ä»¶è¯­å¥ï¼š</p><pre><code class="language-c++">template &lt;bool cond,
          typename Then,
          typename Else&gt;
struct If;

template &lt;typename Then,
          typename Else&gt;
struct If&lt;true, Then, Else&gt; {
  typedef Then type;
};

template &lt;typename Then,
          typename Else&gt;
struct If&lt;false, Then, Else&gt; {
  typedef Else type;
};
</code></pre><p><code>If</code> æ¨¡æ¿æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¸ƒå°”å€¼ï¼Œåé¢ä¸¤ä¸ªåˆ™æ˜¯ä»£è¡¨ä¸åŒåˆ†æ”¯è®¡ç®—çš„ç±»å‹ï¼Œè¿™ä¸ªç±»å‹å¯ä»¥æ˜¯æˆ‘ä»¬ä¸Šé¢å®šä¹‰çš„ä»»ä½•ä¸€ä¸ªæ¨¡æ¿å®ä¾‹ï¼ŒåŒ…æ‹¬ <code>If</code> å’Œ <code>factorial</code>ã€‚ç¬¬ä¸€ä¸ª struct å£°æ˜è§„å®šäº†æ¨¡æ¿çš„å½¢å¼ï¼Œç„¶åæˆ‘ä»¬ä¸æä¾›é€šç”¨å®šä¹‰ï¼Œè€Œæ˜¯æä¾›äº†ä¸¤ä¸ªç‰¹åŒ–ã€‚ç¬¬ä¸€ä¸ªç‰¹åŒ–æ˜¯çœŸçš„æƒ…å†µï¼Œå®šä¹‰ç»“æœ <code>type</code> ä¸º <code>Then</code> åˆ†æ”¯ï¼›ç¬¬äºŒä¸ªç‰¹åŒ–æ˜¯å‡çš„æƒ…å†µï¼Œå®šä¹‰ç»“æœ <code>type</code> ä¸º <code>Else</code> åˆ†æ”¯ã€‚</p><p>æˆ‘ä»¬ä¸€èˆ¬ä¹Ÿéœ€è¦å¾ªç¯ï¼š</p><pre><code class="language-c++">template &lt;bool condition,
          typename Body&gt;
struct WhileLoop;

template &lt;typename Body&gt;
struct WhileLoop&lt;true, Body&gt; {
  typedef typename WhileLoop&lt;
    Body::cond_value,
    typename Body::next_type&gt;::type
    type;
};

template &lt;typename Body&gt;
struct WhileLoop&lt;false, Body&gt; {
  typedef
    typename Body::res_type type;
};

template &lt;typename Body&gt;
struct While {
  typedef typename WhileLoop&lt;
    Body::cond_value, Body&gt;::type
    type;
};
</code></pre><p>è¿™ä¸ªå¾ªç¯çš„æ¨¡æ¿å®šä¹‰ç¨å¤æ‚ç‚¹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¯¹å¾ªç¯ä½“ç±»å‹æœ‰ä¸€ä¸ªçº¦å®šï¼Œå®ƒå¿…é¡»æä¾›ä¸€ä¸ªé™æ€æ•°æ®æˆå‘˜ï¼Œ<code>cond_value</code>ï¼ŒåŠä¸¤ä¸ªå­ç±»å‹å®šä¹‰ï¼Œ<code>res_type</code> å’Œ <code>next_type</code>ï¼š</p><ul>
<li><code>cond_value</code> ä»£è¡¨å¾ªç¯çš„æ¡ä»¶ï¼ˆçœŸæˆ–å‡ï¼‰</li>
<li><code>res_type</code> ä»£è¡¨é€€å‡ºå¾ªç¯æ—¶çš„çŠ¶æ€</li>
<li><code>next_type</code> ä»£è¡¨ä¸‹é¢å¾ªç¯æ‰§è¡Œä¸€æ¬¡æ—¶çš„çŠ¶æ€</li>
</ul><p>è¿™é‡Œé¢æ¯”è¾ƒç»•çš„åœ°æ–¹æ˜¯ç”¨ç±»å‹æ¥ä»£è¡¨æ‰§è¡ŒçŠ¶æ€ã€‚å¦‚æœä¹‹å‰ä½ æ²¡æœ‰æ¥è§¦è¿‡å‡½æ•°å¼ç¼–ç¨‹çš„è¯ï¼Œè¿™ä¸ªåœ¨åˆå­¦æ—¶æœ‰å›°éš¾æ˜¯æ­£å¸¸çš„ã€‚æŠŠä¾‹å­å¤šçœ‹ä¸¤éï¼Œè‡ªå·±ç¼–è¯‘ã€ä¿®æ”¹ã€æŠŠç©ä¸€ä¸‹ï¼Œå°±ä¼šæ¸æ¸ç†è§£çš„ã€‚</p><p>æ’é™¤è¿™ä¸ªæŠ½è±¡æ€§ï¼Œæ¨¡æ¿çš„å®šä¹‰å’Œ <code>If</code> æ˜¯ç±»ä¼¼çš„ï¼Œè™½ç„¶æˆ‘ä»¬ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼Œå®šä¹‰äº†ä¸¤ä¸ªæ¨¡æ¿ã€‚<code>WhileLoop</code> æ¨¡æ¿æœ‰ä¸¤ä¸ªæ¨¡æ¿å‚æ•°ï¼ŒåŒæ ·ç”¨ç‰¹åŒ–æ¥å†³å®šèµ°é€’å½’åˆ†æ”¯è¿˜æ˜¯é€€å‡ºå¾ªç¯åˆ†æ”¯ã€‚<code>While</code> æ¨¡æ¿åˆ™åªéœ€è¦å¾ªç¯ä½“ä¸€ä¸ªå‚æ•°ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚</p><p>å¦‚æœä½ ä¹‹å‰æ¨¡æ¿ç”¨å¾—ä¸å¤šçš„è¯ï¼Œè¿˜æœ‰ä¸€ä¸ªéœ€è¦äº†è§£çš„ç»†èŠ‚ï¼Œå°±æ˜¯ç”¨ <code>::</code> å–ä¸€ä¸ªæˆå‘˜ç±»å‹ã€å¹¶ä¸” <code>::</code> å·¦è¾¹æœ‰æ¨¡æ¿å‚æ•°çš„è¯ï¼Œå¾—é¢å¤–åŠ ä¸Š <code>typename</code> å…³é”®å­—æ¥æ ‡æ˜ç»“æœæ˜¯ä¸€ä¸ªç±»å‹ã€‚ä¸Šé¢å¾ªç¯æ¨¡æ¿çš„å®šä¹‰é‡Œå°±å‡ºç°äº†å¤šæ¬¡è¿™æ ·çš„è¯­æ³•ã€‚MSVC åœ¨è¿™æ–¹é¢å¾€å¾€æ¯”è¾ƒå®½æ¾ï¼Œä¸å†™ <code>typename</code> ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œä½†è¿™æ˜¯ä¸ç¬¦åˆ C++ æ ‡å‡†çš„ç”¨æ³•ã€‚</p><p>ä¸ºäº†è¿›è¡Œè®¡ç®—ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€šç”¨çš„ä»£è¡¨æ•°å€¼çš„ç±»å‹ã€‚ä¸‹é¢è¿™ä¸ªæ¨¡æ¿å¯ä»¥é€šç”¨åœ°ä»£è¡¨ä¸€ä¸ªæ•´æ•°å¸¸æ•°ï¼š</p><pre><code class="language-c++">template &lt;class T, T v&gt;
struct integral_constant {
  static const T value = v;
  typedef T value_type;
  typedef integral_constant type;
};
</code></pre><p><code>integral_constant</code> æ¨¡æ¿åŒæ—¶åŒ…å«äº†æ•´æ•°çš„ç±»å‹å’Œæ•°å€¼ï¼Œè€Œé€šè¿‡è¿™ä¸ªç±»å‹çš„ <code>value</code> æˆå‘˜æˆ‘ä»¬åˆå¯ä»¥é‡æ–°å–å›è¿™ä¸ªæ•°å€¼ã€‚æœ‰äº†è¿™ä¸ªæ¨¡æ¿çš„å¸®å¿™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œä¸€äº›æ›´é€šç”¨çš„è®¡ç®—äº†ã€‚ä¸‹é¢è¿™ä¸ªæ¨¡æ¿å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨å¾ªç¯æ¨¡æ¿æ¥å®Œæˆä» 1 åŠ åˆ° n çš„è®¡ç®—ï¼š</p><pre><code class="language-c++">template &lt;int result, int n&gt;
struct SumLoop {
  static const bool cond_value =
    n != 0;
  static const int res_value =
    result;
  typedef integral_constant&lt;
    int, res_value&gt;
    res_type;
  typedef SumLoop&lt;result + n, n - 1&gt;
    next_type;
};

template &lt;int n&gt;
struct Sum {
  typedef SumLoop&lt;0, n&gt; type;
};
</code></pre><p>ç„¶åä½ ä½¿ç”¨ <code>While&lt;Sum&lt;10&gt;::type&gt;::type::value</code> å°±å¯ä»¥å¾—åˆ° 1 åŠ åˆ° 10 çš„ç»“æœã€‚è™½ç„¶æœ‰ç‚¹ç»•ï¼Œä½†ä»£ç å®è´¨å°±æ˜¯åœ¨ç¼–è¯‘æœŸé—´è¿›è¡Œäº†ä»¥ä¸‹çš„è®¡ç®—ï¼š</p><pre><code class="language-c++">int result = 0;
while (n != 0) {
  result = result + n;
  n = n - 1;
}
</code></pre><p>ä¼°è®¡ç°åœ¨ä½ çš„å¤´å·²ç»å¾ˆæ™•äº†ã€‚ä½†æˆ‘ä¿è¯ï¼Œè¿™ä¸€è®²æœ€éš¾çš„éƒ¨åˆ†å·²ç»è¿‡å»äº†ã€‚å®é™…ä¸Šï¼Œåˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®²çš„ä¸œè¥¿è¿˜æ²¡æœ‰ç¦»å¼€ C++98ã€‚è€Œæˆ‘ä»¬ä¸‹é¢å‡ è®²é‡Œå¾ˆå¿«å°±ä¼šè®²åˆ°ï¼Œå¦‚ä½•åœ¨ç°ä»£ C++ é‡Œä¸ä½¿ç”¨è¿™ç§éº»çƒ¦çš„æ–¹å¼ä¹Ÿèƒ½è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚</p><h2>ç¼–è¯‘æœŸç±»å‹æ¨å¯¼</h2><p>C++ æ ‡å‡†åº“åœ¨ &lt;type_traits&gt; å¤´æ–‡ä»¶é‡Œå®šä¹‰äº†å¾ˆå¤šå·¥å…·ç±»æ¨¡æ¿ï¼Œç”¨æ¥æå–æŸä¸ªç±»å‹ï¼ˆtypeï¼‰åœ¨æŸæ–¹é¢çš„ç‰¹ç‚¹ï¼ˆtraitï¼‰<span class="orange">[2]</span>ã€‚å’Œä¸Šä¸€èŠ‚ç»™å‡ºçš„ä¾‹å­ç›¸ä¼¼ï¼Œè¿™äº›ç‰¹ç‚¹æ—¢æ˜¯ç±»å‹ï¼Œåˆæ˜¯å¸¸å€¼ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿åœ°åœ¨å€¼å’Œç±»å‹ä¹‹é—´è½¬æ¢ï¼Œæ ‡å‡†åº“å®šä¹‰äº†ä¸€äº›ç»å¸¸éœ€è¦ç”¨åˆ°çš„å·¥å…·ç±»ã€‚ä¸Šé¢æè¿°çš„ <code>integral_constant</code> å°±æ˜¯å…¶ä¸­ä¸€ä¸ªï¼ˆæˆ‘çš„å®šä¹‰æœ‰æ‰€ç®€åŒ–ï¼‰ã€‚ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œé’ˆå¯¹å¸ƒå°”å€¼æœ‰ä¸¤ä¸ªé¢å¤–çš„ç±»å‹å®šä¹‰ï¼š</p><pre><code class="language-c++">typedef std::integral_constant&lt;
  bool, true&gt; true_type;
typedef std::integral_constant&lt;
  bool, false&gt; false_type;
</code></pre><p>è¿™ä¸¤ä¸ªæ ‡å‡†ç±»å‹ <code>true_type</code> å’Œ <code>false_type</code> ç»å¸¸å¯ä»¥åœ¨å‡½æ•°é‡è½½ä¸­è§åˆ°ã€‚æœ‰ä¸€ä¸ªå·¥å…·å‡½æ•°å¸¸å¸¸ä¼šå†™æˆä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p><pre><code class="language-c++">template &lt;typename T&gt;
class SomeContainer {
public:
  â€¦
  static void destroy(T* ptr)
  {
    _destroy(ptr,
      is_trivially_destructible&lt;
        T&gt;());
  }

private:
  static void _destroy(T* ptr,
                       true_type)
  {}
  static void _destroy(T* ptr,
                       false_type)
  {
    ptr-&gt;~T();
  }
};
</code></pre><p>ç±»ä¼¼ä¸Šé¢ï¼Œå¾ˆå¤šå®¹å™¨ç±»é‡Œä¼šæœ‰ä¸€ä¸ª <code>destroy</code> å‡½æ•°ï¼Œé€šè¿‡æŒ‡é’ˆæ¥ææ„æŸä¸ªå¯¹è±¡ã€‚ä¸ºäº†ç¡®ä¿æœ€å¤§ç¨‹åº¦çš„ä¼˜åŒ–ï¼Œå¸¸ç”¨çš„ä¸€ä¸ªæŠ€å·§å°±æ˜¯ç”¨ <code>is_trivially_destructible</code> æ¨¡æ¿æ¥åˆ¤æ–­ç±»æ˜¯å¦æ˜¯å¯å¹³å‡¡ææ„çš„â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è°ƒç”¨ææ„å‡½æ•°ï¼Œä¸ä¼šé€ æˆä»»ä½•èµ„æºæ³„æ¼é—®é¢˜ã€‚æ¨¡æ¿è¿”å›çš„ç»“æœè¿˜æ˜¯ä¸€ä¸ªç±»ï¼Œè¦ä¹ˆæ˜¯ <code>true_type</code>ï¼Œè¦ä¹ˆæ˜¯ <code>false_type</code>ã€‚å¦‚æœè¦å¾—åˆ°å¸ƒå°”å€¼çš„è¯ï¼Œå½“ç„¶ä½¿ç”¨ <code>is_trivially_destructible&lt;T&gt;::value</code> å°±å¯ä»¥ï¼Œä½†æ­¤å¤„ä¸éœ€è¦ã€‚æˆ‘ä»¬éœ€è¦çš„æ˜¯ï¼Œä½¿ç”¨ <code>()</code> è°ƒç”¨è¯¥ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œè®©ç¼–è¯‘å™¨æ ¹æ®æ•°å€¼ç±»å‹æ¥é€‰æ‹©åˆé€‚çš„é‡è½½ã€‚è¿™æ ·ï¼Œåœ¨ä¼˜åŒ–ç¼–è¯‘çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å¯ä»¥æŠŠä¸éœ€è¦çš„ææ„æ“ä½œå½»åº•å…¨éƒ¨åˆ é™¤ã€‚</p><p>åƒ <code>is_trivially_destructible</code> è¿™æ ·çš„ trait ç±»æœ‰å¾ˆå¤šï¼Œå¯ä»¥ç”¨æ¥åœ¨æ¨¡æ¿é‡Œå†³å®šæ‰€éœ€çš„ç‰¹æ®Šè¡Œä¸ºï¼š</p><ul>
<li><code>is_array</code></li>
<li><code>is_enum</code></li>
<li><code>is_function</code></li>
<li><code>is_pointer</code></li>
<li><code>is_reference</code></li>
<li><code>is_const</code></li>
<li><code>has_virtual_destructor</code></li>
<li>â€¦</li>
</ul><p>è¿™äº›ç‰¹æ®Šè¡Œä¸ºåˆ¤æ–­å¯ä»¥æ˜¯åƒä¸Šé¢è¿™æ ·ç”¨äºå†³å®šä¸åŒçš„é‡è½½ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›´æ¥ç”¨åœ¨æ¨¡æ¿å‚æ•°ç”šè‡³ä»£ç é‡Œï¼ˆè®°å¾—æˆ‘ä»¬æ˜¯å¯ä»¥ç›´æ¥å¾—åˆ°å¸ƒå°”å€¼çš„ï¼‰ã€‚</p><p>é™¤äº†å¾—åˆ°å¸ƒå°”å€¼å’Œç›¸å¯¹åº”çš„ç±»å‹çš„ trait æ¨¡æ¿ï¼Œæˆ‘ä»¬è¿˜æœ‰å¦å¤–ä¸€äº›æ¨¡æ¿ï¼Œå¯ä»¥ç”¨æ¥åšä¸€äº›ç±»å‹çš„è½¬æ¢ã€‚ä»¥ä¸€ä¸ªå¸¸è§çš„æ¨¡æ¿ <code>remove_const</code> ä¸ºä¾‹ï¼ˆç”¨æ¥å»é™¤ç±»å‹é‡Œçš„ const ä¿®é¥°ï¼‰ï¼Œå®ƒçš„å®šä¹‰å¤§è‡´å¦‚ä¸‹ï¼š</p><pre><code class="language-c++">template &lt;class T&gt;
struct remove_const {
  typedef T type;
};
template &lt;class T&gt;
struct remove_const&lt;const T&gt; {
  typedef T type;
};
</code></pre><p>åŒæ ·ï¼Œå®ƒä¹Ÿæ˜¯åˆ©ç”¨æ¨¡æ¿çš„ç‰¹åŒ–ï¼Œé’ˆå¯¹ const ç±»å‹å»æ‰ç›¸åº”çš„ä¿®é¥°ã€‚æ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å¯¹ <code>const string&amp;</code> åº”ç”¨ <code>remove_const</code>ï¼Œå°±ä¼šå¾—åˆ° <code>string&amp;</code>ï¼Œå³ï¼Œ<code>remove_const&lt;const string&amp;&gt;::type</code> ç­‰ä»·äº <code>string&amp;</code>ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªç»†èŠ‚ä½ è¦æ³¨æ„ä¸€ä¸‹ï¼Œå¦‚æœå¯¹ <code>const char*</code> åº”ç”¨ <code>remove_const</code> çš„è¯ï¼Œç»“æœè¿˜æ˜¯ <code>const char*</code>ã€‚åŸå› æ˜¯ï¼Œ<code>const char*</code> æ˜¯æŒ‡å‘ <code>const char</code> çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯æŒ‡å‘ <code>char</code> çš„ const æŒ‡é’ˆã€‚å¦‚æœæˆ‘ä»¬å¯¹ <code>char * const</code> åº”ç”¨ <code>remove_const</code> çš„è¯ï¼Œè¿˜æ˜¯å¯ä»¥å¾—åˆ° <code>char*</code> çš„ã€‚</p><h3>ç®€æ˜“å†™æ³•</h3><p>å¦‚æœä½ è§‰å¾—å†™ <code>is_trivially_destructible&lt;T&gt;::value</code> å’Œ <code>remove_const&lt;T&gt;::type</code> éå¸¸å•°å—¦çš„è¯ï¼Œé‚£ä½ ç»ä¸æ˜¯ä¸€ä¸ªäººã€‚åœ¨å½“å‰çš„ C++ æ ‡å‡†é‡Œï¼Œå‰è€…æœ‰å¢åŠ  <code>_v</code> çš„ç¼–è¯‘æ—¶å¸¸é‡ï¼Œåè€…æœ‰å¢åŠ  <code>_t</code> çš„ç±»å‹åˆ«åï¼š</p><pre><code class="language-c++">template &lt;class T&gt;
inline constexpr bool
  is_trivially_destructible_v =
    is_trivially_destructible&lt;
      T&gt;::value;
</code></pre><pre><code class="language-c++">template &lt;class T&gt;
using remove_const_t =
  typename remove_const&lt;T&gt;::type;
</code></pre><p>è‡³äºä»€ä¹ˆæ˜¯ <code>constexpr</code>ï¼Œæˆ‘ä»¬ä¼šå•ç‹¬è®²ã€‚<code>using</code> æ˜¯ç°ä»£ C++ çš„æ–°è¯­æ³•ï¼ŒåŠŸèƒ½å¤§è‡´ä¸ <code>typedef</code> ç›¸ä¼¼ï¼Œä½† <code>typedef</code> åªèƒ½é’ˆå¯¹æŸä¸ªç‰¹å®šçš„ç±»å‹ï¼Œè€Œ <code>using</code> å¯ä»¥ç”Ÿæˆåˆ«åæ¨¡æ¿ã€‚ç›®å‰æˆ‘ä»¬åªéœ€è¦çŸ¥é“ï¼Œåœ¨ä½ éœ€è¦ trait æ¨¡æ¿çš„ç»“æœæ•°å€¼å’Œç±»å‹æ—¶ï¼Œä½¿ç”¨å¸¦ <code>_v</code> å’Œ <code>_t</code> åç¼€çš„æ¨¡æ¿å¯èƒ½ä¼šæ›´æ–¹ä¾¿ï¼Œå°¤å…¶æ˜¯å¸¦ <code>_t</code> åç¼€çš„ç±»å‹è½¬æ¢æ¨¡æ¿ã€‚</p><h2>é€šç”¨çš„ fmap å‡½æ•°æ¨¡æ¿</h2><p>ä½ åº”å½“å¤šå¤šå°‘å°‘å¬åˆ°è¿‡ map-reduceã€‚æŠ›å¼€å…¶ç›®å‰åœ¨å¤§æ•°æ®åº”ç”¨ä¸­çš„å…·ä½“æ–¹å¼ä¸è°ˆï¼Œä»æ¦‚å¿µæœ¬æºæ¥çœ‹ï¼Œmap <span class="orange">[3]</span> å’Œ reduce <span class="orange">[4]</span> éƒ½æ¥è‡ªå‡½æ•°å¼ç¼–ç¨‹ã€‚ä¸‹é¢æˆ‘ä»¬æ¼”ç¤ºä¸€ä¸ª map å‡½æ•°ï¼ˆå½“ç„¶ï¼Œåœ¨ C++ é‡Œå®ƒçš„åå­—å°±ä¸èƒ½å« <code>map</code> äº†ï¼‰ï¼Œå…¶ä¸­ç”¨åˆ°äº†ç›®å‰ä¸ºæ­¢æˆ‘ä»¬å­¦åˆ°çš„å¤šä¸ªçŸ¥è¯†ç‚¹ï¼š</p><pre><code class="language-c++">template &lt;
  template &lt;typename, typename&gt;
  class OutContainer = vector,
  typename F, class R&gt;
auto fmap(F&amp;&amp; f, R&amp;&amp; inputs)
{
  typedef decay_t&lt;decltype(
    f(*inputs.begin()))&gt;
    result_type;
  OutContainer&lt;
    result_type,
    allocator&lt;result_type&gt;&gt;
    result;
  for (auto&amp;&amp; item : inputs) {
    result.push_back(f(item));
  }
  return result;
}
</code></pre><p>æˆ‘ä»¬ï¼š</p><ul>
<li>ç”¨ <code>decltype</code> æ¥è·å¾—ç”¨ <code>f</code> æ¥è°ƒç”¨ <code>inputs</code> å…ƒç´ çš„ç±»å‹ï¼ˆå‚è€ƒç¬¬ 8 è®²ï¼‰ï¼›</li>
<li>ç”¨ <code>decay_t</code> æ¥æŠŠè·å¾—çš„ç±»å‹å˜æˆä¸€ä¸ªæ™®é€šçš„å€¼ç±»å‹ï¼›</li>
<li>ç¼ºçœä½¿ç”¨ <code>vector</code> ä½œä¸ºè¿”å›å€¼çš„å®¹å™¨ï¼Œä½†å¯ä»¥é€šè¿‡æ¨¡æ¿å‚æ•°æ”¹ä¸ºå…¶ä»–å®¹å™¨ï¼›</li>
<li>ä½¿ç”¨åŸºäºèŒƒå›´çš„ for å¾ªç¯æ¥éå† <code>inputs</code>ï¼Œå¯¹å…¶ç±»å‹ä¸ä½œå…¶ä»–è¦æ±‚ï¼ˆå‚è€ƒç¬¬ 7 è®²ï¼‰ï¼›</li>
<li>å­˜æ”¾ç»“æœçš„å®¹å™¨éœ€è¦æ”¯æŒ <code>push_back</code> æˆå‘˜å‡½æ•°ï¼ˆå‚è€ƒç¬¬ 4 è®²ï¼‰ã€‚</li>
</ul><p>ä¸‹é¢çš„ä»£ç å¯ä»¥éªŒè¯å…¶åŠŸèƒ½ï¼š</p><pre><code class="language-c++">vector&lt;int&gt; v{1, 2, 3, 4, 5};
int add_1(int x)
{
    return x + 1;
}

auto result = fmap(add_1, v);
</code></pre><p>åœ¨ <code>fmap</code> æ‰§è¡Œä¹‹åï¼Œæˆ‘ä»¬ä¼šåœ¨ <code>result</code> é‡Œå¾—åˆ°ä¸€ä¸ªæ–°å®¹å™¨ï¼Œå…¶å†…å®¹æ˜¯ 2, 3, 4, 5, 6ã€‚</p><h2>å†…å®¹å°ç»“</h2><p>æœ¬è®²æˆ‘ä»¬ä»‹ç»äº†æ¨¡æ¿å…ƒç¼–ç¨‹çš„åŸºæœ¬æ¦‚å¿µå’Œä¾‹å­ï¼Œå…¶æœ¬è´¨æ˜¯<strong>æŠŠè®¡ç®—è¿‡ç¨‹ç”¨ç¼–è¯‘æœŸçš„ç±»å‹æ¨å¯¼å’Œç±»å‹åŒ¹é…è¡¨è¾¾å‡ºæ¥</strong>ï¼›ç„¶åä»‹ç» type traits åŠå…¶åŸºæœ¬ç”¨æ³•ï¼›æœ€åæˆ‘ä»¬æ¼”ç¤ºäº†ä¸€ä¸ªç®€å•çš„é«˜é˜¶å‡½æ•° mapï¼Œå…¶å®ç°ä¸­ç”¨åˆ°äº†æˆ‘ä»¬ç›®å‰å·²ç»è®¨è®ºè¿‡çš„ä¸€äº›çŸ¥è¯†ç‚¹ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>è¿™ä¸€è®²çš„å†…å®¹å¯èƒ½æœ‰ç‚¹çƒ§è„‘ï¼Œè¯·ä½ è‡ªè¡Œå®éªŒä¸€ä¸‹ä¾‹å­ï¼Œå¹¶æ‰¾ä¸€ä¸¤ä¸ªç®€å•çš„ç®—æ³•ç”¨æ¨¡æ¿å…ƒç¼–ç¨‹çš„æ–¹æ³•å®ç°ä¸€ä¸‹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½å†™å‡ºæ¥ã€‚</p><p>å¦‚æœæœ‰ä»€ä¹ˆç‰¹åˆ«æƒ³æ³•çš„è¯ï¼Œæ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«äº¤æµã€‚</p><h2><span class="reference">å‚è€ƒèµ„æ–™</span></h2><p><span class="reference">[1] Todd L. Veldhuizen, â€œC++ templates are Turing completeâ€. <a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.14.3670">http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.14.3670</a> </span></p><p><span class="reference">[2] cppreference.com, â€œStandard library header &lt;type_traits&gt;â€. <a href="https://en.cppreference.com/w/cpp/header/type_traits">https://en.cppreference.com/w/cpp/header/type_traits</a> </span></p><p><span class="reference">[2a] cppreference.com, â€œæ ‡å‡†åº“å¤´æ–‡ä»¶ &lt;type_traits&gt;â€. <a href="https://zh.cppreference.com/w/cpp/header/type_traits">https://zh.cppreference.com/w/cpp/header/type_traits</a> </span></p><p><span class="reference">[3] Wikipedia, â€œMap (higher-order function)â€. <a href="https://en.wikipedia.org/wiki/Map_(higher-order_function)">https://en.wikipedia.org/wiki/Map_(higher-order_function)</a> </span></p><p><span class="reference">[4] Wikipedia, â€œFold (higher-order function)â€. <a href="https://en.wikipedia.org/wiki/Fold_(higher-order_function)">https://en.wikipedia.org/wiki/Fold_(higher-order_function)</a> </span></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            zhang  2019-12-26 20:12:17
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            æ‚¨å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸ªmutexç›¸å…³çš„é—®é¢˜ï¼Œè™½ç„¶è¿™éƒ¨åˆ†å†…å®¹ä»¥åä¼šè®²ï¼Œä½†æˆ‘ç°åœ¨å·¥ä½œä¸­æœ‰ä¸€ä¸ªç–‘é—®ï¼Œéº»çƒ¦æ‚¨çœ‹ä¸€ä¸‹ï¼Œè°¢è°¢ã€‚<br>ä»£ç ç®€å†™å¦‚ä¸‹ï¼š<br>class Mutex {<br>public:<br>    pthread_mutex_t mutex;<br>    Mutex():mutex(PTHREAD_MUTEX_INITIALIZER) {}<br>    void lock() {<br>        pthread_mutex_lock(&amp;mutex);<br>    }<br>    void unlock() {<br>        pthread_mutex_unlock(&amp;mutex);<br>    }<br>};<br>class Cond {<br>public:<br>    pthread_cond_t cond;<br>    Cond():cond(PTHREAD_COND_INITIALIZER) {}<br>    void signal() {<br>        pthread_cond_signal(&amp;cond);<br>    }<br>    void broadcast() {<br>        pthread_cond_broadcast(&amp;cond);<br>    }<br>    void wait(Mutex &amp;mutex) {<br>        pthread_cond_wait(&amp;cond, &amp;mutex.mutex);<br>    }<br>};<br>class ScopeLock {<br>    Mutex &amp;mutex;<br>public:<br>    ScopeLock(CanMutex &amp;_mutex):mutex(_mutex) {<br>        mutex.lock();<br>    };<br>    ~ScopeLock() {<br>        mutex.unlock();<br>    };<br>};<br><br>class Client<br>{<br>public:<br>    Mutex inter_mutex;<br>    Mutex mutex;<br>    Cond cond;<br>    bool pending;<br>    Client():pending(false){}<br>    ~Client(){}<br>    void Lock() {<br>        mutex.lock();<br>    }<br>    void Unlock() {<br>        mutex.unlock();<br>    }<br>    void sendData() {<br>        const ScopeLock inter_protect(inter_mutex);<br>        const ScopeLock protect(mutex);<br><br>        &#47;&#47;send_to_server();<br><br>        while (!pending) {<br>            cond.wait(mutex);<br>        }<br>        pending = false;<br>    }<br>    void recvData() {<br>        const ScopeLock protect(mutex);<br>        pending = true;<br>        cond.signal();<br>    }<br>};<br>æˆ‘æœ‰å‡ ä¸ªçº¿ç¨‹ä¼šæ‰§è¡ŒåŒä¸€ä¸ªClientå¯¹è±¡çš„sendDataå‡½æ•°ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒClientå¯¹è±¡çš„recvDataå‡½æ•°ã€‚æˆ‘ä¸»è¦æƒ³é—®æˆ‘å‡ ä¸ªsendDataçº¿ç¨‹éœ€è¦åŒæ­¥æ‰§è¡Œï¼Œæ‰§è¡Œå®Œä¸€ä¸ªsendDataå‘é€åï¼Œå†æ‰§è¡Œå¦ä¸€ä¸ªsendDataã€‚é‚£ä¹ˆæˆ‘åœ¨sendDataå‡½æ•°æœ€å¼€å§‹åŠ æ•´ä¸ªå‡½æ•°èŒƒå›´çš„é”const ScopeLock inter_protect(inter_mutex);ï¼Œæ˜¯å¦å¯ä»¥è¿™æ ·åšï¼Ÿè°¢è°¢ï¼ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-27 09:44:54</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">å¯¹ä½ çš„ä¸šåŠ¡åœºæ™¯ä¸ç†Ÿæ‚‰ï¼Œéšä¾¿è¯„è®ºå‡ å¥ã€‚<br><br>ãƒ»C++11 é‡Œæœ‰ç°æˆçš„ mutexã€condition_variable å’Œ unique_lockã€‚<br>ãƒ»Client::Lock å’Œ Client::Unlock ä¼¼ä¹æ²¡æœ‰ç”¨å¤„ã€‚<br>ãƒ»å˜é‡ pending çš„å‘½åè®©äººå›°æƒ‘ï¼šæ”¶åˆ°æ•°æ®äº†ï¼Œâ€œæŒ‚èµ·â€æ ‡å¿—è¢«è®¾ä¸ºçœŸï¼Œç„¶åå‘é€æ•°æ®å°±èƒ½ç»§ç»­å¾€ä¸‹æ‰§è¡Œäº†ï¼Ÿè¿ç»­ä¸¤æ¬¡ sendData ä¸­é—´å¿…é¡»æœ‰ä¸€æ¬¡ recvData æ‰è¡Œï¼Œè€Œä¸” sendData é‡Œçš„ç­‰å¾…æ˜¯åœ¨å‘é€ä¹‹åï¼Ÿè¿™å—æ„Ÿè§‰æœ‰é—®é¢˜ã€‚<br>ãƒ»inter_mutex å’Œ inter_protect æœ¬èº«ç›®å‰æ²¡æœ‰çœ‹å‡ºé—®é¢˜ã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            å®‰é™çš„é›¨  2019-12-25 20:55:53
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            æ¨¡ç‰ˆç¼–ç¨‹å¾ˆæœ‰è¶£ï¼ŒæœŸå¾…è€å¸ˆçš„æ›´æ–°ã€‚ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-26 12:53:49</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">è§‰å¾—æœ‰è¶£å°±å¥½ï¼Œè¿™ä¸ªæˆ‘ä»¬è¦è®²ä¸Šå¥½å‡ è®²çš„ã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            æ€»ç»Ÿè€å”  2019-12-25 17:49:17
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            è®°å¾—å´è€å¸ˆä¹‹å‰é¢„å‘Šè¿‡ï¼Œè¿™ä¸€èŠ‚å¯èƒ½ä¼šæ¯”è¾ƒéš¾ï¼Œç¡®å®è¢«éš¾ä½äº†ã€‚åœ¨ç¬¬ä¸€ä¸ª If æ¨¡æ¿è¿™é‡Œå°±è¢«å¡ä½äº†ï¼Œè€å¸ˆèƒ½ç»™ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜è¿™ä¸ª If æ¨¡æ¿è¯¥å¦‚ä½•ä½¿ç”¨ä¹ˆï¼Ÿ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-25 22:20:42</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">ä¸‹é¢çš„å‡½æ•°å’Œæ¨¡æ¿æ˜¯åŸºæœ¬ç­‰ä»·çš„ï¼š<br><br>int foo(int n)<br>{<br>  if (n == 2 || n == 3 || n == 5) {<br>    return 1;<br>  } else {<br>    return 2;<br>  }<br>}<br><br>template &lt;int n&gt;<br>struct Foo {<br>  typedef typename If&lt;<br>    (n == 2 || n == 3 || n == 5),<br>    integral_constant&lt;int, 1&gt;,<br>    integral_constant&lt;int, 2&gt;&gt;::type<br>    type;<br>};<br><br>ä½ å¯ä»¥è¾“å‡º foo(3)ï¼Œä¹Ÿå¯ä»¥è¾“å‡º Foo&lt;3&gt;::type::valueã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            ç¦¾æ¡ƒ  2019-12-25 15:57:24
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            è„‘å£³å„¿ç–¼çš„å…„å¼Ÿå§å¦¹ä»¬ï¼Œæˆ‘è¿™æœ‰ä¸ªå°åæ–¹ï¼Œ å“ˆå“ˆ<br><br>While&lt; Sum&lt;2&gt;::type &gt;::type::value å®ä¾‹åŒ–(instantiation)è¿‡ç¨‹<br>--&gt; While&lt; SumLoop&lt;0, 2&gt; &gt;::type::value<br>--&gt; WhileLoop&lt;SumLoop&lt;0, 2&gt;::cond_value, SumLoop&lt;0, 2&gt;&gt;::type::value<br>--&gt; WhileLoop&lt;true, SumLoop&lt;0, 2&gt;&gt;::type::value<br><br>--&gt; WhileLoop&lt;SumLoop&lt;0, 2&gt;::cond_value, SumLoop&lt;0, 2&gt;::next_type&gt;::type::value<br>--&gt; WhileLoop&lt;true, SumLoop&lt;2, 1&gt;&gt;::type::value<br><br>--&gt; WhileLoop&lt;SumLoop&lt;2, 1&gt;::cond_value, SumLoop&lt;2, 1&gt;::next_type&gt;::type::value<br>--&gt; WhileLoop&lt;true, SumLoop&lt;3, 0&gt;&gt;::type::value<br><br>--&gt; WhileLoop&lt;SumLoop&lt;3, 0&gt;::cond_value, SumLoop&lt;3, 0&gt;::next_type&gt;::type::value<br>--&gt; WhileLoop&lt;false, SumLoop&lt;3, -1&gt;&gt;::type::value<br><br>--&gt; SumLoop&lt;3, -1&gt;::res_type::value<br><br>--&gt;integral_constant&lt;int, 3&gt;::value<br>--&gt;3 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-25 20:03:39</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">å¯¹ï¼Œå¯¹äºæ¨¡æ¿ï¼Œå°±æ˜¯è¦åœ¨è„‘å­é‡Œæˆ–çº¸ä¸Šã€ç”µè„‘ä¸ŠæŠŠå®ƒå±•å¼€â€¦â€¦â˜ºï¸</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            å°ä¸€æ—¥ä¸€  2019-12-25 11:45:43
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            #include &lt;iostream&gt;<br>#include &lt;vector&gt;<br>#include &lt;type_traits&gt;<br><br>using namespace std;<br><br>template&lt; class T &gt;<br>using decay_t = typename decay&lt;T&gt;::type;<br><br>template &lt; template &lt;typename, typename&gt; class OutContainer = vector,<br>           typename F, class R&gt;<br>auto fmap(F&amp;&amp; f, R&amp;&amp; inputs)<br>{<br>    typedef decay_t&lt;decltype( f(*inputs.begin()))&gt; result_type;<br>    OutContainer&lt; result_type, allocator&lt;result_type&gt;&gt; result;<br>    for (auto&amp;&amp; item : inputs) {<br>        result.push_back(f(item));<br>    }<br>    return result;<br>}<br><br>int add_1(int x)<br>{<br>    return x + 1;<br>}<br><br>int main()<br>{<br>    vector&lt;int&gt; v{1, 2, 3, 4, 5};<br><br>    auto result = fmap(add_1, v);<br><br>    for (auto &amp;&amp;v : result) {<br>        cout &lt;&lt; v &lt;&lt; endl;<br>    }<br>}<br><br>ç”¨g++ 4.8.5 å¸¦std=c++11å‚æ•°ç¼–è¯‘èƒ½é€šè¿‡å¹¶æ­£ç¡®è¿è¡Œï¼Œä½†æ˜¯æœ‰warning:<br>13_5.cc:12:28: warning: â€˜fmapâ€™ function uses â€˜autoâ€™ type specifier without trailing return type [enabled by default] auto fmap(F&amp;&amp; f, R&amp;&amp; inputs)<br><br>è¯·é—®è€å¸ˆå¦‚ä½•åŠ å°¾ç½®è¿”å›ç±»å‹æ¶ˆé™¤warning? 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-25 20:02:21</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">è¯•è¯• c++1yã€c++14 ç­‰æ ‡å‡†é€‰é¡¹äº†ã€‚è¿™ä¸ª GCC å¤ªè€äº†â€¦â€¦æˆ‘è¦æ±‚ C++17ã€GCC 7 çš„ã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            æä¹‰ç››  2019-12-25 09:40:26
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            ä¸€åˆ°æ¨¡æ¿å°±å¤„äºçœ‹ä¸æ‡‚çŠ¶æ€äº†ã€‚ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-25 20:00:19</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">æ‹¿çº¸ç¬”æ¥å±•å¼€è¯•è¯•ï¼Ÿå®é™…ä¸Šå°±æ˜¯ä¸€ç§å±•å¼€è€Œå·²ã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            ç¦¾æ¡ƒ  2019-12-25 08:13:23
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            â€œå¸¸ç”¨çš„ä¸€ä¸ªæŠ€å·§å°±æ˜¯ç”¨ is_trivially_destructible æ¨¡æ¿æ¥åˆ¤æ–­ç±»æ˜¯å¦æ˜¯å¯å¹³å‡¡ææ„çš„â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è°ƒç”¨ææ„å‡½æ•°ï¼Œä¸ä¼šé€ æˆä»»ä½•èµ„æºæ³„æ¼é—®é¢˜ã€‚â€<br><br>éº»çƒ¦è§£é‡Šä¸€ä¸‹ï¼Œ<br>#1 è¿™ä¸ªç±»æ¨¡ç‰ˆæ˜¯å¦‚ä½•è¯†åˆ«â€œï¼Œä¸è°ƒç”¨ææ„å‡½æ•°ï¼Œä¸ä¼šé€ æˆä»»ä½•èµ„æºæ³„æ¼é—®é¢˜â€ï¼Ÿ è¿™çš„èµ„æºåŒ…æ‹¬newçš„å †å†…å­˜å—ï¼Ÿ<br>#2 triviallyè¿™ä¸ªè¯æ€»æ˜¯è§‰å¾—å¾ˆéš¾ç†è§£ï¼ŒC++é‡Œï¼Œä½¿ç”¨è¿™ä¸ªè¯çš„ç›®çš„ï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-25 09:24:05</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">1 æ˜¯æœ‰ç‚¹ç¼–è¯‘å™¨é­”æ³•çš„ã€‚å¦‚æœä½ æœ‰ææ„å‡½æ•°ï¼Œæˆ–è€…ä½ æ²¡æœ‰ææ„å‡½æ•°ä½†æœ‰ä¸ªé POD æ•°æ®æˆå‘˜ï¼Œis_trivially_destructible å°±ä¸æˆç«‹äº†ã€‚<br><br>2 trivial æ˜¯å¾ˆå¸¸è§çš„æ•°å­¦æœ¯è¯­ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„ã€‚è§ï¼š<br><br>https:&#47;&#47;baike.baidu.com&#47;item&#47;%E5%B9%B3%E5%87%A1&#47;16739977<br>https:&#47;&#47;zh.wikipedia.org&#47;wiki&#47;%E5%B9%B3%E5%87%A1_(%E6%95%B8%E5%AD%B8)<br>https:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Triviality_(mathematics)</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            hello world  2019-12-25 08:11:43
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            ä¸€ç›´å¯¹æ¨¡æ¿å…ƒç¼–ç¨‹æ„Ÿå…´è¶£ï¼Œä½†æ€»æ˜¯æä¸æ˜ç™½ï¼Œä»Šå¤©å­¦ä¹ å¾ˆæœ‰æ”¶è·ï¼Œç‰¹åˆ«æ˜¯æœ€åçš„fmapï¼Œæ„Ÿè°¢è€å¸ˆï¼Œè®°å¾—æ¨¡æ¿ç¼–ç¨‹è¿˜æœ‰policyä¹‹ç±»çš„ä¸œè¥¿ï¼Œè€å¸ˆä¹‹ååœ¨ç¼–è¯‘æœŸè¿™æ–¹é¢è¿˜ä¼šæ›´è¯¦ç»†è®²è§£å— 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-25 09:36:17</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">ç¼–è¯‘æœŸè¦è¿ç»­è®²åˆ°ç¬¬ 18 è®²ï¼Œç”šè‡³ä¹‹åè¿˜ä¼šæœ‰æåˆ°çš„æœºä¼šã€‚ä½ å–œæ¬¢é‚£æ˜¯æœ€å¥½äº†ã€‚æˆ‘æ˜¯æ€•å¾ˆå¤šäººä¼šè¢«ç¼–è¯‘æœŸç¼–ç¨‹å“é€€å‘¢ã€‚ğŸ˜…<br><br>policy è¿™ä¸ªæ¦‚å¿µä¸å•ç‹¬è®²ï¼Œä½†æˆ‘è§‰å¾—åœ¨è®¨è®ºäº†ä½¿ç”¨å¸¸æ•°æ¥å¯¹æ¨¡æ¿è¿›è¡Œç‰¹åŒ–ä¹‹åï¼Œè¿™ä¸ªæ¦‚å¿µåº”è¯¥æ²¡æœ‰ç‰¹åˆ«ä¹‹å¤„ã€‚æˆ‘ä»¬çš„ä¾‹å­å€’æ˜¯ä¼šæœ‰æ ‡å‡†åº“æä¾›çš„ policyã€‚ğŸ˜</div>
</div>
            
    </div>
</li>
            </ul>
</div>
</body>
</html>