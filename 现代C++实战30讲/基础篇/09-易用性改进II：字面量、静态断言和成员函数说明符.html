<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>09-æ˜“ç”¨æ€§æ”¹è¿›IIï¼šå­—é¢é‡ã€é™æ€æ–­è¨€å’Œæˆå‘˜å‡½æ•°è¯´æ˜ç¬¦</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>09-æ˜“ç”¨æ€§æ”¹è¿›IIï¼šå­—é¢é‡ã€é™æ€æ–­è¨€å’Œæˆå‘˜å‡½æ•°è¯´æ˜ç¬¦</h1>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚</p><p>æœ¬è®²æˆ‘ä»¬ç»§ç»­æ˜“ç”¨æ€§çš„è¯é¢˜ï¼Œçœ‹çœ‹ç°ä»£ C++ å¸¦æ¥çš„å…¶ä»–æ˜“ç”¨æ€§æ”¹è¿›ã€‚</p><h2>è‡ªå®šä¹‰å­—é¢é‡</h2><p>å­—é¢é‡ï¼ˆliteralï¼‰æ˜¯æŒ‡åœ¨æºä»£ç ä¸­å†™å‡ºçš„å›ºå®šå¸¸é‡ï¼Œå®ƒä»¬åœ¨ C++98 é‡Œåªèƒ½æ˜¯åŸç”Ÿç±»å‹ï¼Œå¦‚ï¼š</p><ul>
<li><code>"hello"</code>ï¼Œå­—ç¬¦ä¸²å­—é¢é‡ï¼Œç±»å‹æ˜¯ <code>const char[6]</code></li>
<li><code>1</code>ï¼Œæ•´æ•°å­—é¢é‡ï¼Œç±»å‹æ˜¯ <code>int</code></li>
<li><code>0.0</code>ï¼Œæµ®ç‚¹æ•°å­—é¢é‡ï¼Œç±»å‹æ˜¯ <code>double</code></li>
<li><code>3.14f</code>ï¼Œæµ®ç‚¹æ•°å­—é¢é‡ï¼Œç±»å‹æ˜¯ <code>float</code></li>
<li><code>123456789ul</code>ï¼Œæ— ç¬¦å·é•¿æ•´æ•°å­—é¢é‡ï¼Œç±»å‹æ˜¯ <code>unsigned long</code></li>
</ul><p>C++11 å¼•å…¥äº†è‡ªå®šä¹‰å­—é¢é‡ï¼Œå¯ä»¥ä½¿ç”¨ <code>operator"" åç¼€</code> æ¥å°†ç”¨æˆ·æä¾›çš„å­—é¢é‡è½¬æ¢æˆå®é™…çš„ç±»å‹ã€‚C++14 åˆ™åœ¨æ ‡å‡†åº“ä¸­åŠ å…¥äº†ä¸å°‘æ ‡å‡†å­—é¢é‡ã€‚ä¸‹é¢è¿™ä¸ªç¨‹åºå±•ç¤ºäº†å®ƒä»¬çš„ç”¨æ³•ï¼š</p><pre><code class="language-c++">#include &lt;chrono&gt;
#include &lt;complex&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;thread&gt;

using namespace std;

int main()
{
  cout &lt;&lt; "i * i = " &lt;&lt; 1i * 1i
       &lt;&lt; endl;
  cout &lt;&lt; "Waiting for 500ms"
       &lt;&lt; endl;
  this_thread::sleep_for(500ms);
  cout &lt;&lt; "Hello world"s.substr(0, 5)
       &lt;&lt; endl;
}
</code></pre><!-- [[[read_end]]] --><p>è¾“å‡ºæ˜¯ï¼š</p><blockquote>
<p><code>i * i = (-1,0)</code><br>
<code>Waiting for 500ms</code><br>
<code>Hello</code></p>
</blockquote><p>ä¸Šé¢è¿™ä¸ªä¾‹å­å±•ç¤ºäº† C++ æ ‡å‡†é‡Œæä¾›çš„å¸®åŠ©ç”Ÿæˆè™šæ•°ã€æ—¶é—´å’Œ <code>basic_string</code> å­—é¢é‡çš„åç¼€ã€‚ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œæˆ‘åœ¨ä¸Šé¢ä½¿ç”¨äº† <code>using namespace std</code>ï¼Œè¿™ä¼šåŒæ—¶å¼•å…¥ <code>std</code> åç©ºé—´å’Œé‡Œé¢çš„å†…è”åç©ºé—´ï¼ˆinline namespaceï¼‰ï¼ŒåŒ…æ‹¬äº†ä¸Šé¢çš„å­—é¢é‡è¿ç®—ç¬¦æ‰€åœ¨çš„ä¸‰ä¸ªåç©ºé—´ï¼š</p><ul>
<li><code>std::literals::complex_literals</code></li>
<li><code>std::literals::chrono_literals</code></li>
<li><code>std::literals::string_literals</code></li>
</ul><p>åœ¨äº§å“é¡¹ç›®ä¸­ï¼Œä¸€èˆ¬ä¸ä¼šï¼ˆä¹Ÿä¸åº”è¯¥ï¼‰å…¨å±€ä½¿ç”¨ <code>using namespace std</code>ï¼ˆä¸è¿‡ï¼Œä¸ºèŠ‚çº¦ç¯‡å¹…èµ·è§ï¼Œä¸“æ é‡Œçš„å¾ˆå¤šä¾‹å­ï¼Œç‰¹åˆ«æ˜¯ä¸å®Œæ•´çš„ä¾‹å­ï¼Œè¿˜æ˜¯é»˜è®¤ä½¿ç”¨äº† <code>using namespace std</code>ï¼‰ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåº”å½“åœ¨ä½¿ç”¨åˆ°è¿™äº›å­—é¢é‡çš„ä½œç”¨åŸŸé‡Œå¯¼å…¥éœ€è¦çš„åç©ºé—´ï¼Œä»¥å…å‘ç”Ÿå†²çªã€‚åœ¨ç±»ä¼¼ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œå°±æ˜¯åœ¨å‡½æ•°ä½“çš„å¼€å¤´å†™ï¼š</p><pre><code class="language-c++">using namespace std::literals::
  chrono_literals;
</code></pre><p>ç­‰ç­‰ã€‚</p><p>è¦åœ¨è‡ªå·±çš„ç±»é‡Œæ”¯æŒå­—é¢é‡ä¹Ÿç›¸å½“å®¹æ˜“ï¼Œå”¯ä¸€çš„é™åˆ¶æ˜¯éæ ‡å‡†çš„å­—é¢é‡åç¼€å¿…é¡»ä»¥ä¸‹åˆ’çº¿ <code>_</code> æ‰“å¤´ã€‚æ¯”å¦‚ï¼Œå‡å¦‚æˆ‘ä»¬æœ‰ä¸‹é¢çš„é•¿åº¦ç±»ï¼š</p><pre><code class="language-c++">struct length {
  double value;
  enum unit {
    metre,
    kilometre,
    millimetre,
    centimetre,
    inch,
    foot,
    yard,
    mile,
  };
  static constexpr double factors[] =
    {1.0,    1000.0,  1e-3,
     1e-2,   0.0254,  0.3048,
     0.9144, 1609.344};
  explicit length(double v,
                  unit u = metre)
  {
    value = v * factors[u];
  }
};

length operator+(length lhs,
                 length rhs)
{
  return length(lhs.value +
                rhs.value);
}

// å¯èƒ½æœ‰å…¶ä»–è¿ç®—ç¬¦
</code></pre><p>æˆ‘ä»¬å¯ä»¥æ‰‹å†™ <code>length(1.0, length::metre)</code> è¿™æ ·çš„è¡¨è¾¾å¼ï¼Œä½†ä¼°è®¡å¤§éƒ¨åˆ†å¼€å‘äººå‘˜éƒ½ä¸æ„¿æ„è¿™ä¹ˆåšå§ã€‚åè¿‡æ¥ï¼Œå¦‚æœæˆ‘ä»¬è®©å¼€å‘äººå‘˜è¿™ä¹ˆå†™ï¼Œå¤§å®¶åº”è¯¥è¿˜æ˜¯åŸºæœ¬ä¹æ„çš„ï¼š</p><pre><code class="language-c++">1.0_m + 10.0_cm
</code></pre><p>è¦å…è®¸ä¸Šé¢è¿™ä¸ªè¡¨è¾¾å¼ï¼Œæˆ‘ä»¬åªéœ€è¦æä¾›ä¸‹é¢çš„è¿ç®—ç¬¦å³å¯ï¼š</p><pre><code class="language-c++">length operator"" _m(long double v)
{
  return length(v, length::metre);
}

length operator"" _cm(long double v)
{
  return length(v, length::centimetre);
}
</code></pre><p>å¦‚æœç¾å›½å›½å®¶èˆªç©ºèˆªå¤©å±€é‡‡ç”¨äº†ç±»ä¼¼çš„ç³»ç»Ÿçš„è¯ï¼Œç«æ˜Ÿæ°”å€™æ¢æµ‹è€…å·çš„äº‹æ•…ä¹Ÿè®¸å°±ä¸ä¼šå‘ç”Ÿäº† <span class="orange">[1]</span>ã€‚å½“ç„¶ï¼Œå†å²æ— æ³•é‡æ¥ï¼Œè€Œä¸” C++ å¼•å…¥è¿™æ ·çš„è¯­æ³•å·²ç»æ˜¯åœ¨äº‹æ•…å‘ç”Ÿä¹‹ååå¤šå¹´äº†â€¦â€¦</p><p>å…³äºè‡ªå®šä¹‰å­—é¢é‡çš„è¿›ä¸€æ­¥æŠ€æœ¯ç»†èŠ‚ï¼Œè¯·å‚é˜…å‚è€ƒèµ„æ–™ <span class="orange">[2]</span>ã€‚</p><h2>äºŒè¿›åˆ¶å­—é¢é‡</h2><p>ä½ ä¸€å®šçŸ¥é“ C++ é‡Œæœ‰ <code>0x</code> å‰ç¼€ï¼Œå¯ä»¥è®©å¼€å‘äººå‘˜ç›´æ¥å†™å‡ºåƒ <code>0xFF</code> è¿™æ ·çš„åå…­è¿›åˆ¶å­—é¢é‡ã€‚å¦å¤–ä¸€ä¸ªç›®å‰ä½¿ç”¨å¾—ç¨å°‘çš„å‰ç¼€å°±æ˜¯ <code>0</code> åé¢ç›´æ¥è·Ÿ 0â€“7 çš„æ•°å­—ï¼Œè¡¨ç¤ºå…«è¿›åˆ¶çš„å­—é¢é‡ï¼Œåœ¨è·Ÿæ–‡ä»¶ç³»ç»Ÿæ‰“äº¤é“çš„æ—¶å€™è¿˜ä¼šç»å¸¸ç”¨åˆ°ï¼šæœ‰ç»éªŒçš„ Unix ç¨‹åºå‘˜å¯èƒ½ä¼šè§‰å¾— <code>chmod(path, S_IRUSR|S_IWUSR|S_IRGRP|S_IROTH)</code> å¹¶ä¸æ¯” <code>chmod(path, 0644)</code> æ›´ä¸ºç›´è§‚ã€‚ä» C++14 å¼€å§‹ï¼Œæˆ‘ä»¬å¯¹äºäºŒè¿›åˆ¶ä¹Ÿæœ‰äº†ç›´æ¥çš„å­—é¢é‡ï¼š</p><pre><code class="language-c++">unsigned mask = 0b111000000;
</code></pre><p>è¿™åœ¨éœ€è¦æ¯”ç‰¹çº§æ“ä½œç­‰åœºåˆè¿˜æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p><p>ä¸è¿‡ï¼Œé—æ†¾çš„æ˜¯ï¼Œ I/O streams é‡Œåªæœ‰ <code>dec</code>ã€<code>hex</code>ã€<code>oct</code> ä¸‰ä¸ªæ“çºµå™¨ï¼ˆmanipulatorï¼‰ï¼Œè€Œæ²¡æœ‰ <code>bin</code>ï¼Œå› è€Œè¾“å‡ºä¸€ä¸ªäºŒè¿›åˆ¶æ•°ä¸èƒ½åƒåè¿›åˆ¶ã€åå…­è¿›åˆ¶ã€å…«è¿›åˆ¶é‚£ä¹ˆç›´æ¥ã€‚ä¸€ä¸ªé—´æ¥æ–¹å¼æ˜¯ä½¿ç”¨ <code>bitset</code>ï¼Œä½†è°ƒç”¨è€…éœ€è¦æ‰‹å·¥æŒ‡å®šäºŒè¿›åˆ¶ä½æ•°ï¼š</p><pre><code class="language-c++">#include &lt;bitset&gt;
cout &lt;&lt; bitset&lt;9&gt;(mask) &lt;&lt; endl;
</code></pre><blockquote>
<p><code>111000000</code></p>
</blockquote><h2>æ•°å­—åˆ†éš”ç¬¦</h2><p>æ•°å­—é•¿äº†ä¹‹åï¼Œçœ‹æ¸…ä½æ•°å°±å˜å¾—éº»çƒ¦äº†ã€‚æœ‰äº†äºŒè¿›åˆ¶å­—é¢é‡ï¼Œè¿™ä¸ªé—®é¢˜å˜å¾—åˆ†å¤–æ˜æ˜¾ã€‚C++14 å¼€å§‹ï¼Œå…è®¸åœ¨æ•°å­—å‹å­—é¢é‡ä¸­ä»»æ„æ·»åŠ  <code>'</code> æ¥ä½¿å…¶æ›´å¯è¯»ã€‚å…·ä½“æ€ä¹ˆæ·»åŠ ï¼Œå®Œå…¨ç”±ç¨‹åºå‘˜æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œçº¦å®šã€‚æŸäº›å¸¸è§çš„æƒ…å†µå¯èƒ½ä¼šæ˜¯ï¼š</p><ul>
<li>åè¿›åˆ¶æ•°å­—ä½¿ç”¨ä¸‰ä½çš„åˆ†éš”ï¼Œå¯¹åº”è‹±æ–‡ä¹ æƒ¯çš„ thousandã€million ç­‰å•ä½ã€‚</li>
<li>åè¿›åˆ¶æ•°å­—ä½¿ç”¨å››ä½çš„åˆ†éš”ï¼Œå¯¹åº”ä¸­æ–‡ä¹ æƒ¯çš„ä¸‡ã€äº¿ç­‰å•ä½ã€‚</li>
<li>åå…­è¿›åˆ¶æ•°å­—ä½¿ç”¨ä¸¤ä½æˆ–å››ä½çš„åˆ†éš”ï¼Œå¯¹åº”å­—èŠ‚æˆ–åŒå­—èŠ‚ã€‚</li>
<li>äºŒè¿›åˆ¶æ•°å­—ä½¿ç”¨ä¸‰ä½çš„åˆ†éš”ï¼Œå¯¹åº”æ–‡ä»¶ç³»ç»Ÿçš„æƒé™åˆ†ç»„ã€‚</li>
<li>ç­‰ç­‰ã€‚</li>
</ul><p>ä¸€äº›å®é™…ä¾‹å­å¦‚ä¸‹ï¼š</p><pre><code class="language-c++">unsigned mask = 0b111'000'000;
long r_earth_equatorial = 6'378'137;
double pi = 3.14159'26535'89793;
const unsigned magic = 0x44'42'47'4E;
</code></pre><h2>é™æ€æ–­è¨€</h2><p>C++98 çš„ <code>assert</code> å…è®¸åœ¨è¿è¡Œæ—¶æ£€æŸ¥ä¸€ä¸ªå‡½æ•°çš„å‰ç½®æ¡ä»¶æ˜¯å¦æˆç«‹ã€‚æ²¡æœ‰ä¸€ç§æ–¹æ³•å…è®¸å¼€å‘äººå‘˜åœ¨ç¼–è¯‘çš„æ—¶å€™æ£€æŸ¥å‡è®¾æ˜¯å¦æˆç«‹ã€‚æ¯”å¦‚ï¼Œå¦‚æœæ¨¡æ¿æœ‰ä¸ªå‚æ•° <code>alignment</code>ï¼Œè¡¨ç¤ºå¯¹é½ï¼Œé‚£æˆ‘ä»¬æœ€å¥½åœ¨ç¼–è¯‘æ—¶å°±æ£€æŸ¥ <code>alignment</code> æ˜¯ä¸æ˜¯äºŒçš„æ•´æ•°æ¬¡å¹‚ã€‚ä¹‹å‰äººä»¬ç”¨äº†ä¸€äº›æ¨¡æ¿æŠ€å·§æ¥è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œä½†è¾“å‡ºçš„ä¿¡æ¯å¹¶ä¸é‚£ä¹ˆå‹å–„ã€‚æ¯”å¦‚ï¼Œæˆ‘ä¹‹å‰ä½¿ç”¨çš„æ–¹æ³•ï¼Œä¼šäº§ç”Ÿç±»ä¼¼ä¸‹é¢è¿™æ ·çš„è¾“å‡ºï¼š</p><p><img src="https://static001.geekbang.org/resource/image/59/a5/59fa97e766d6c363ae23546e211774a5.png" alt=""></p><p>èƒ½èµ·ä½œç”¨ï¼Œä½†ä¸å¤Ÿç›´è§‚ã€‚C++11 ç›´æ¥ä»è¯­è¨€å±‚é¢æä¾›äº†é™æ€æ–­è¨€æœºåˆ¶ï¼Œä¸ä»…èƒ½è¾“å‡ºæ›´å¥½çš„ä¿¡æ¯ï¼Œè€Œä¸”é€‚ç”¨æ€§ä¹Ÿæ›´å¥½ï¼Œå¯ä»¥ç›´æ¥æ”¾åœ¨ç±»çš„å®šä¹‰ä¸­ï¼Œè€Œä¸åƒä¹‹å‰ç”¨çš„ç‰¹æ®ŠæŠ€å·§åªèƒ½æ”¾åœ¨å‡½æ•°ä½“é‡Œã€‚å¯¹äºç±»ä¼¼ä¸Šé¢çš„æƒ…å†µï¼Œç°åœ¨çš„è¾“å‡ºæ˜¯ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/37/48/37c7f1703b6c2d09137ccf3a5065be48.png" alt=""></p><p>é™æ€æ–­è¨€è¯­æ³•ä¸Šéå¸¸ç®€å•ï¼Œå°±æ˜¯ï¼š</p><pre><code class="language-c++">static_assert(ç¼–è¯‘æœŸæ¡ä»¶è¡¨è¾¾å¼,
              å¯é€‰è¾“å‡ºä¿¡æ¯);
</code></pre><p>äº§ç”Ÿä¸Šé¢çš„ç¤ºä¾‹é”™è¯¯ä¿¡æ¯çš„ä»£ç æ˜¯ï¼š</p><pre><code class="language-c++">static_assert((alignment &amp; (alignment - 1)) == 0,
  "Alignment must be power of two");
</code></pre><h2>default å’Œ delete æˆå‘˜å‡½æ•°</h2><p>åœ¨ç±»çš„å®šä¹‰æ—¶ï¼ŒC++ æœ‰ä¸€äº›è§„åˆ™å†³å®šæ˜¯å¦ç”Ÿæˆé»˜è®¤çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ã€‚è¿™äº›ç‰¹æ®Šæˆå‘˜å‡½æ•°å¯èƒ½åŒ…æ‹¬ï¼š</p><ul>
<li>é»˜è®¤æ„é€ å‡½æ•°</li>
<li>ææ„å‡½æ•°</li>
<li>æ‹·è´æ„é€ å‡½æ•°</li>
<li>æ‹·è´èµ‹å€¼å‡½æ•°</li>
<li>ç§»åŠ¨æ„é€ å‡½æ•°</li>
<li>ç§»åŠ¨èµ‹å€¼å‡½æ•°</li>
</ul><p>ç”Ÿæˆè¿™äº›ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼ˆæˆ–ä¸ç”Ÿæˆï¼‰çš„è§„åˆ™æ¯”è¾ƒå¤æ‚ï¼Œæ„Ÿå…´è¶£çš„è¯ä½ å¯ä»¥æŸ¥çœ‹å‚è€ƒèµ„æ–™ <span class="orange">[3]</span>ã€‚æ¯ä¸ªç‰¹æ®Šæˆå‘˜å‡½æ•°æœ‰å‡ ç§ä¸åŒçš„çŠ¶æ€ï¼š</p><ul>
<li>éšå¼å£°æ˜è¿˜æ˜¯ç”¨æˆ·å£°æ˜</li>
<li>é»˜è®¤æä¾›è¿˜æ˜¯ç”¨æˆ·æä¾›</li>
<li>æ­£å¸¸çŠ¶æ€è¿˜æ˜¯åˆ é™¤çŠ¶æ€</li>
</ul><p>è¿™ä¸‰ä¸ªçŠ¶æ€æ˜¯å¯ç»„åˆçš„ï¼Œè™½ç„¶ä¸æ˜¯æ‰€æœ‰çš„ç»„åˆéƒ½æœ‰æ•ˆã€‚éšå¼å£°æ˜çš„å¿…ç„¶æ˜¯é»˜è®¤æä¾›çš„ï¼›é»˜è®¤æä¾›çš„æ‰å¯èƒ½è¢«åˆ é™¤ï¼›ç”¨æˆ·æä¾›çš„ä¹Ÿå¿…ç„¶æ˜¯ç”¨æˆ·å£°æ˜çš„ã€‚</p><p>å¦‚æœæˆå‘˜å’Œçˆ¶ç±»æ²¡æœ‰ç‰¹æ®ŠåŸå› å¯¼è‡´å¯¹è±¡ä¸å¯æ‹·è´æˆ–ç§»åŠ¨ï¼Œåœ¨ç”¨æˆ·ä¸å£°æ˜è¿™äº›æˆå‘˜å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨äº§ç”Ÿè¿™äº›æˆå‘˜å‡½æ•°ï¼Œå³éšå¼å£°æ˜ã€é»˜è®¤æä¾›ã€æ­£å¸¸çŠ¶æ€ã€‚æœ‰ç‰¹æ®Šæˆå‘˜ã€ç”¨æˆ·å£°æ˜çš„è¯ï¼Œæƒ…å†µå°±éå¸¸å¤æ‚äº†ï¼š</p><ul>
<li>æ²¡æœ‰åˆå§‹åŒ–çš„éé™æ€ const æ•°æ®æˆå‘˜å’Œå¼•ç”¨ç±»å‹æ•°æ®æˆå‘˜ä¼šå¯¼è‡´é»˜è®¤æä¾›çš„é»˜è®¤æ„é€ å‡½æ•°è¢«åˆ é™¤ã€‚</li>
<li>éé™æ€çš„ const æ•°æ®æˆå‘˜å’Œå¼•ç”¨ç±»å‹æ•°æ®æˆå‘˜ä¼šå¯¼è‡´é»˜è®¤æä¾›çš„æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼å‡½æ•°ã€ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼å‡½æ•°è¢«åˆ é™¤ã€‚</li>
<li>ç”¨æˆ·å¦‚æœæ²¡æœ‰è‡ªå·±æä¾›ä¸€ä¸ªæ‹·è´æ„é€ å‡½æ•°ï¼ˆå¿…é¡»å½¢å¦‚ <code>Obj(Obj&amp;)</code> æˆ– <code>Obj(const Obj&amp;)</code>ï¼›ä¸æ˜¯æ¨¡æ¿ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šéšå¼å£°æ˜ä¸€ä¸ªã€‚</li>
<li>ç”¨æˆ·å¦‚æœæ²¡æœ‰è‡ªå·±æä¾›ä¸€ä¸ªæ‹·è´èµ‹å€¼å‡½æ•°ï¼ˆå¿…é¡»å½¢å¦‚ <code>Obj&amp; operator=(Obj&amp;)</code> æˆ– <code>Obj&amp; operator=(const Obj&amp;)</code>ï¼›ä¸æ˜¯æ¨¡æ¿ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šéšå¼å£°æ˜ä¸€ä¸ªã€‚</li>
<li>ç”¨æˆ·å¦‚æœè‡ªå·±å£°æ˜äº†ä¸€ä¸ªç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼å‡½æ•°ï¼Œåˆ™é»˜è®¤æä¾›çš„æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼å‡½æ•°è¢«åˆ é™¤ã€‚</li>
<li>ç”¨æˆ·å¦‚æœæ²¡æœ‰è‡ªå·±å£°æ˜æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼å‡½æ•°ã€ç§»åŠ¨èµ‹å€¼å‡½æ•°å’Œææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šéšå¼å£°æ˜ä¸€ä¸ªç§»åŠ¨æ„é€ å‡½æ•°ã€‚</li>
<li>ç”¨æˆ·å¦‚æœæ²¡æœ‰è‡ªå·±å£°æ˜æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼å‡½æ•°ã€ç§»åŠ¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šéšå¼å£°æ˜ä¸€ä¸ªç§»åŠ¨èµ‹å€¼å‡½æ•°ã€‚</li>
<li>â€¦â€¦</li>
</ul><p>æˆ‘ä¸é¼“åŠ±ä½ å»æ­»è®°ç¡¬èƒŒè¿™äº›è§„åˆ™ï¼Œè€Œæ˜¯å¸Œæœ›ä½ åœ¨é¡¹ç›®å’Œæµ‹è¯•ä¸­ä½“ä¼šå…¶ç¼˜ç”±ã€‚æˆ‘è®¤ä¸ºè¿™äº›è§„åˆ™è¿˜ç›¸å½“åˆç†ï¼Œè™½ç„¶æœ‰ç•¥åä¿å®ˆä¹‹å«Œã€‚å°¤å…¶æ˜¯å…³äºç§»åŠ¨æ„é€ å’Œèµ‹å€¼ï¼šåªè¦ç”¨æˆ·å£°æ˜äº†å¦å¤–çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œç¼–è¯‘å™¨å°±ä¸é»˜è®¤æä¾›äº†ã€‚ä¸è¿‡å˜›ï¼Œç¼ºçœæ…¢ç‚¹æ€»æ¯”ç¼ºçœä¸å®‰å…¨è¦å¥½â€¦â€¦</p><p>æˆ‘ä»¬è¿™å„¿ä¸»è¦è¦è¯´çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜ç¼ºçœè¡Œä¸ºï¼Œåœ¨ç¼–è¯‘å™¨èƒ½é»˜è®¤æä¾›ç‰¹æ®Šæˆå‘˜å‡½æ•°æ—¶å°†å…¶åˆ é™¤ï¼Œæˆ–åœ¨ç¼–è¯‘å™¨ä¸é»˜è®¤æä¾›ç‰¹æ®Šæˆå‘˜å‡½æ•°æ—¶æ˜ç¡®å£°æ˜å…¶éœ€è¦é»˜è®¤æä¾›ï¼ˆä¸è¿‡ï¼Œè¦æ³¨æ„ï¼Œå³ä½¿ç”¨æˆ·è¦æ±‚é»˜è®¤æä¾›ï¼Œç¼–è¯‘å™¨ä¹Ÿå¯èƒ½æ ¹æ®å…¶ä»–è§„åˆ™å°†ç‰¹æ®Šæˆå‘˜å‡½æ•°æ ‡ä¸ºåˆ é™¤ï¼‰ã€‚</p><p>è¿˜æ˜¯ä¸¾ä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹ã€‚å¯¹äºä¸‹é¢è¿™æ ·çš„ç±»ï¼Œç¼–è¯‘å™¨çœ‹åˆ°æœ‰ç”¨æˆ·æä¾›çš„æ„é€ å‡½æ•°ï¼Œå°±ä¼šä¸é»˜è®¤æä¾›é»˜è®¤æ„é€ å‡½æ•°ï¼š</p><pre><code class="language-c++">template &lt;typename T&gt;
class my_array {
public:
  my_array(size_t size);
  â€¦
private:
  T*     data_{nullptr};
  size_t size_{0};
};
</code></pre><p>åœ¨æ²¡æœ‰é»˜è®¤åˆå§‹åŒ–æ—¶ï¼Œæˆ‘ä»¬å¦‚æœéœ€è¦é»˜è®¤æ„é€ å‡½æ•°ï¼Œå°±éœ€è¦æ‰‹å·¥å†™ä¸€ä¸ªï¼Œå¦‚ï¼š</p><pre><code class="language-c++">  my_array()
    : data_(nullptr)
    , size_(0) {}
</code></pre><p>å¯æœ‰äº†é»˜è®¤åˆå§‹åŒ–ä¹‹åï¼Œè¿™ä¸ªæ„é€ å‡½æ•°æ˜¾ç„¶å°±ä¸å¿…è¦äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨å¯ä»¥å†™ï¼š</p><pre><code class="language-c++">  my_array() = default;
</code></pre><p>å†æ¥ä¸€ä¸ªåå‘çš„ä¾‹å­ã€‚æˆ‘ä»¬ <a href="https://time.geekbang.org/column/article/169225">[ç¬¬ 1 è®²]</a> é‡Œçš„ <code>shape_wrapper</code>ï¼Œå®ƒçš„å¤åˆ¶è¡Œä¸ºæ˜¯ä¸å®‰å…¨çš„ã€‚æˆ‘ä»¬å¯ä»¥åƒ <a href="https://time.geekbang.org/column/article/169263">[ç¬¬ 2 è®²]</a> é‡Œä¸€æ ·å»æ”¹è¿›å®ƒï¼Œä½†å¦‚æœæ­£å¸¸æƒ…å†µä¸éœ€è¦å¤åˆ¶è¡Œä¸ºã€åªæ˜¯æƒ³é˜²æ­¢å…¶ä»–å¼€å‘äººå‘˜è¯¯æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°åœ¨ç±»çš„å®šä¹‰ä¸­åŠ å…¥ï¼š</p><pre><code class="language-c++">class shape_wrapper {
  â€¦
  shape_wrapper(
    const shape_wrapper&amp;) = delete;
  shape_wrapper&amp; operator=(
    const shape_wrapper&amp;) = delete;
  â€¦
};
</code></pre><p>åœ¨ C++11 ä¹‹å‰ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç”¨åœ¨ <code>private</code> æ®µé‡Œå£°æ˜è¿™äº›æˆå‘˜å‡½æ•°çš„æ–¹æ³•ï¼Œæ¥è¾¾åˆ°ç›¸ä¼¼çš„ç›®çš„ã€‚ä½†ç›®å‰è¿™ä¸ªè¯­æ³•æ•ˆæœæ›´å¥½ï¼Œå¯ä»¥äº§ç”Ÿæ›´æ˜ç¡®çš„é”™è¯¯ä¿¡æ¯ã€‚å¦å¤–ï¼Œä½ å¯ä»¥æ³¨æ„ä¸€ä¸‹ï¼Œç”¨æˆ·å£°æ˜æˆåˆ é™¤ä¹Ÿæ˜¯ä¸€ç§å£°æ˜ï¼Œå› æ­¤ç¼–è¯‘å™¨ä¸ä¼šæä¾›é»˜è®¤ç‰ˆæœ¬çš„ç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼å‡½æ•°ã€‚</p><h2>override å’Œ final è¯´æ˜ç¬¦</h2><p><code>override</code> å’Œ <code>final</code> æ˜¯ä¸¤ä¸ª C++11 å¼•å…¥çš„æ–°è¯´æ˜ç¬¦ã€‚å®ƒä»¬ä¸æ˜¯å…³é”®è¯ï¼Œä»…åœ¨å‡ºç°åœ¨å‡½æ•°å£°æ˜å°¾éƒ¨æ—¶èµ·ä½œç”¨ï¼Œä¸å½±å“æˆ‘ä»¬ä½¿ç”¨è¿™ä¸¤ä¸ªè¯ä½œå˜é‡åç­‰å…¶ä»–ç”¨é€”ã€‚è¿™ä¸¤ä¸ªè¯´æ˜ç¬¦å¯ä»¥å•ä¸ªæˆ–ç»„åˆä½¿ç”¨ï¼Œéƒ½æ˜¯åŠ åœ¨ç±»æˆå‘˜å‡½æ•°å£°æ˜çš„å°¾éƒ¨ã€‚</p><p><code>override</code> æ˜¾å¼å£°æ˜äº†æˆå‘˜å‡½æ•°æ˜¯ä¸€ä¸ªè™šå‡½æ•°ä¸”è¦†ç›–äº†åŸºç±»ä¸­çš„è¯¥å‡½æ•°ã€‚å¦‚æœæœ‰ <code>override</code> å£°æ˜çš„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œæˆ–åŸºç±»ä¸­ä¸å­˜åœ¨è¿™ä¸ªè™šå‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥å‘Šé”™è¯¯ã€‚è¿™ä¸ªè¯´æ˜ç¬¦çš„ä¸»è¦ä½œç”¨æœ‰ä¸¤ä¸ªï¼š</p><ul>
<li>ç»™å¼€å‘äººå‘˜æ›´æ˜ç¡®çš„æç¤ºï¼Œè¿™ä¸ªå‡½æ•°è¦†å†™äº†åŸºç±»çš„æˆå‘˜å‡½æ•°ï¼›</li>
<li>è®©ç¼–è¯‘å™¨è¿›è¡Œé¢å¤–çš„æ£€æŸ¥ï¼Œé˜²æ­¢ç¨‹åºå‘˜ç”±äºæ‹¼å†™é”™è¯¯æˆ–ä»£ç æ”¹åŠ¨æ²¡æœ‰è®©åŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­çš„æˆå‘˜å‡½æ•°åç§°å®Œå…¨ä¸€è‡´ã€‚</li>
</ul><p><code>final</code> åˆ™å£°æ˜äº†æˆå‘˜å‡½æ•°æ˜¯ä¸€ä¸ªè™šå‡½æ•°ï¼Œä¸”è¯¥è™šå‡½æ•°ä¸å¯åœ¨æ´¾ç”Ÿç±»ä¸­è¢«è¦†ç›–ã€‚å¦‚æœæœ‰ä¸€ç‚¹æ²¡æœ‰å¾—åˆ°æ»¡è¶³çš„è¯ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚</p><p><code>final</code> è¿˜æœ‰ä¸€ä¸ªä½œç”¨æ˜¯æ ‡å¿—æŸä¸ªç±»æˆ–ç»“æ„ä¸å¯è¢«æ´¾ç”Ÿã€‚åŒæ ·ï¼Œè¿™æ—¶åº”å°†å…¶æ”¾åœ¨è¢«å®šä¹‰çš„ç±»æˆ–ç»“æ„ååé¢ã€‚</p><p>ç”¨æ³•ç¤ºæ„å¦‚ä¸‹ï¼š</p><pre><code class="language-c++">class A {
public:
  virtual void foo();
  virtual void bar();
  void foobar();
};

class B : public A {
public:
  void foo() override; // OK
  void bar() override final; // OK
  //void foobar() override;
  // éè™šå‡½æ•°ä¸èƒ½ override
};

class C final : public B {
public:
  void foo() override; // OK
  //void bar() override;
  // final å‡½æ•°ä¸å¯ override
};

class D : public C {
  // é”™è¯¯ï¼šfinal ç±»ä¸å¯æ´¾ç”Ÿ
  â€¦
};
</code></pre><h2>å†…å®¹å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬ä»‹ç»äº†ç°ä»£ C++ å¼•å…¥çš„å¦å¤–å‡ ä¸ªæ˜“ç”¨æ€§æ”¹è¿›ï¼šè‡ªå®šä¹‰å­—é¢é‡ï¼ŒäºŒè¿›åˆ¶å­—é¢é‡ï¼Œæ•°å­—åˆ†éš”ç¬¦ï¼Œé™æ€æ–­è¨€ï¼Œdefault å’Œ delete æˆå‘˜å‡½æ•°ï¼ŒåŠ override å’Œ finalã€‚åŒä¸Šä¸€è®²ä»‹ç»çš„æ˜“ç”¨æ€§æ”¹è¿›ä¸€æ ·ï¼Œè¿™äº›æ–°åŠŸèƒ½å¯ä»¥æ”¹è¿›ä»£ç çš„å¯è¯»æ€§ï¼ŒåŒæ—¶ä¹Ÿä¸ä¼šå¸¦æ¥é¢å¤–çš„å¼€é”€ã€‚åœ¨ä»»ä½•æœ‰æ¡ä»¶ä½¿ç”¨æ»¡è¶³æ–° C++ æ ‡å‡†çš„ç¼–è¯‘å™¨çš„é¡¹ç›®ä¸­ï¼Œéƒ½åº”è¯¥è€ƒè™‘ä½¿ç”¨è¿™äº›æ–°ç‰¹æ€§ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>ä½ æœ€å–œæ¬¢çš„ C++ æ˜“ç”¨æ€§æ”¹è¿›æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„çœ‹æ³•ï¼</p><h2><span class="reference">å‚è€ƒèµ„æ–™</span></h2><p><span class="reference">[1] Wikipedia, â€œ<em>Mars Climate Orbiter</em>â€. <a href="https://en.wikipedia.org/wiki/Mars_Climate_Orbiter">https://en.wikipedia.org/wiki/Mars_Climate_Orbiter</a> </span></p><p><span class="reference">[1a] ç»´åŸºç™¾ç§‘, â€œç«æ˜Ÿæ°”å€™æ¢æµ‹è€…å·â€. <a href="https://zh.wikipedia.org/zh-cn/%E7%81%AB%E6%98%9F%E6%B0%A3%E5%80%99%E6%8E%A2%E6%B8%AC%E8%80%85%E8%99%9F">https://zh.wikipedia.org/zh-cn/ç«æ˜Ÿæ°£å€™æ¢æ¸¬è€…è™Ÿ</a> </span></p><p><span class="reference">[2] cppreference.com, â€œUser-defined literalsâ€. <a href="https://en.cppreference.com/w/cpp/language/user_literal">https://en.cppreference.com/w/cpp/language/user_literal</a> </span></p><p><span class="reference">[2a] cppreference.com, â€œç”¨æˆ·å®šä¹‰å­—é¢é‡â€. <a href="https://zh.cppreference.com/w/cpp/language/user_literal">https://zh.cppreference.com/w/cpp/language/user_literal</a> </span></p><p><span class="reference">[3] cppreference.com, â€œNon-static member functionsâ€, section â€œSpecial member functionsâ€. <a href="https://en.cppreference.com/w/cpp/language/member_functions">https://en.cppreference.com/w/cpp/language/member_functions</a> </span></p><p><span class="reference">[3a] cppreference.com, â€œéé™æ€æˆå‘˜å‡½æ•°â€, â€œç‰¹æ®Šæˆå‘˜å‡½æ•°â€éƒ¨åˆ†. <a href="https://zh.cppreference.com/w/cpp/language/member_functions">https://zh.cppreference.com/w/cpp/language/member_functions</a> </span></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            hello world  2019-12-16 18:27:02
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            å¹³æ—¶è‡ªå·±ä¸»è¦ç”¨åˆ°çš„å°±æ˜¯autoå’Œdefaultå’Œdelete overrideï¼Œæ–¹ä¾¿ä¸”é¿å…å‡ºé”™ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-16 20:50:07</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">å…¶ä»–çš„ä¹Ÿè¦è€ƒè™‘ç”¨èµ·æ¥å•Šã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            å°ä¸€æ—¥ä¸€  2019-12-16 11:48:05
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            æˆ‘æœ€å–œæ¬¢çš„C++æ˜“ç”¨æ€§æ”¹è¿›åŠç†ç”±ï¼š<br>autoï¼š å°‘æ‰“å­—<br>scope forï¼šå°‘æ‰“å­—<br>ç±»æˆå‘˜é»˜è®¤è¡¥å§‹åŒ–è¯­æ³•ï¼šå°‘æ‰“å­—<br>default å’Œ delete æˆå‘˜å‡½æ•°ï¼šç®€åŒ–å¯¹ç±»è¡Œä¸ºçš„æ§åˆ¶éš¾åº¦<br>è‡ªå®šä¹‰å­—é¢é‡ï¼šä»£ç çœ‹èµ·æ¥èˆ’æœã€‚ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-16 13:34:03</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">éƒ½ç”¨ä¸Šäº†å—ï¼Ÿå¾ˆå¥½å•Šã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            å¢¨æ¢µ  2019-12-16 09:21:20
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            auto å’Œ for loop range baseçš„æ­é… 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-16 13:28:01</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">å—¯ï¼Œè¿™ä¸ªæ­é…å¾ˆçˆ½çš„ã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            è¥¿é’¾é’¾  2019-12-16 08:17:41
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            auto ä¸ æ–°çš„ for éå†æ–¹æ³•ï¼Œå› ä¸ºå®åœ¨æ˜¯æ–¹ä¾¿è€Œä¸”ç”¨çš„æœ€å¤šã€‚å…¶ä»–çš„ç‰¹æ€§ ... å·¥ä½œä¸­è²Œä¼¼è¿˜æ²¡æ€ä¹ˆç”¨è¿‡ğŸ˜­ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-16 09:16:10</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">æ²¡æˆæœ¬çš„æ”¹è¿›ï¼Œèƒ½ç”¨å°±ç”¨èµ·æ¥å§ã€‚</div>
</div>
            
    </div>
</li>
            </ul>
</div>
</body>
</html>