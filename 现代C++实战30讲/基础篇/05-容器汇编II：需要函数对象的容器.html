<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>05-å®¹å™¨æ±‡ç¼–IIï¼šéœ€è¦å‡½æ•°å¯¹è±¡çš„å®¹å™¨</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>05-å®¹å™¨æ±‡ç¼–IIï¼šéœ€è¦å‡½æ•°å¯¹è±¡çš„å®¹å™¨</h1>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚</p><p>ä¸Šä¸€è®²æˆ‘ä»¬å­¦ä¹ äº† C++ çš„åºåˆ—å®¹å™¨å’Œä¸¤ä¸ªå®¹å™¨é€‚é…å™¨ï¼Œä»Šå¤©æˆ‘ä»¬ç»§ç»­è®²å®Œå‰©ä¸‹çš„æ ‡å‡†å®¹å™¨ï¼ˆ<span class="orange">[1]</span>ï¼‰ã€‚</p><h2>å‡½æ•°å¯¹è±¡åŠå…¶ç‰¹åŒ–</h2><p>åœ¨è®²å®¹å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆæ¥è®¨è®ºä¸€ä¸‹ä¸¤ä¸ªé‡è¦çš„å‡½æ•°å¯¹è±¡ï¼Œ<code>less</code> å’Œ <code>hash</code>ã€‚</p><p>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ <code>less</code>ï¼Œå°äºå…³ç³»ã€‚åœ¨æ ‡å‡†åº“é‡Œï¼Œé€šç”¨çš„ <code>less</code> å¤§è‡´æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p><pre><code class="language-c++">template &lt;class T&gt;
struct less
  : binary_function&lt;T, T, bool&gt; {
  bool operator()(const T&amp; x,
                  const T&amp; y) const
  {
    return x &lt; y;
  }
};
</code></pre><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>less</code> æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå¹¶ä¸”æ˜¯ä¸ªäºŒå…ƒå‡½æ•°ï¼Œæ‰§è¡Œå¯¹ä»»æ„ç±»å‹çš„å€¼çš„æ¯”è¾ƒï¼Œè¿”å›å¸ƒå°”ç±»å‹ã€‚ä½œä¸ºå‡½æ•°å¯¹è±¡ï¼Œå®ƒå®šä¹‰äº†å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ï¼ˆ<code>operator()</code>ï¼‰ï¼Œå¹¶ä¸”ç¼ºçœè¡Œä¸ºæ˜¯å¯¹æŒ‡å®šç±»å‹çš„å¯¹è±¡è¿›è¡Œ <code>&lt;</code> çš„æ¯”è¾ƒæ“ä½œã€‚</p><p>æœ‰ç‚¹å¹³æ·¡æ— å¥‡ï¼Œæ˜¯å§ï¼ŸåŸå› æ˜¯å› ä¸ºè¿™ä¸ªç¼ºçœå®ç°åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹å·²ç»å¤Ÿç”¨ï¼Œæˆ‘ä»¬ä¸å¤ªéœ€è¦å»ç¢°å®ƒã€‚åœ¨éœ€è¦å¤§å°æ¯”è¾ƒçš„åœºåˆï¼ŒC++ é€šå¸¸é»˜è®¤ä¼šä½¿ç”¨ <code>less</code>ï¼ŒåŒ…æ‹¬æˆ‘ä»¬ä»Šå¤©ä¼šè®²åˆ°çš„è‹¥å¹²å®¹å™¨å’Œæ’åºç®—æ³• <code>sort</code>ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦äº§ç”Ÿç›¸åçš„é¡ºåºçš„è¯ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>greater</code>ï¼Œå¤§äºå…³ç³»ã€‚</p><p>è®¡ç®—å“ˆå¸Œå€¼çš„å‡½æ•°å¯¹è±¡ <code>hash</code> å°±ä¸ä¸€æ ·äº†ã€‚å®ƒçš„ç›®çš„æ˜¯æŠŠä¸€ä¸ªæŸç§ç±»å‹çš„å€¼è½¬æ¢æˆä¸€ä¸ªæ— ç¬¦å·æ•´æ•°å“ˆå¸Œå€¼ï¼Œç±»å‹ä¸º <code>size_t</code>ã€‚å®ƒæ²¡æœ‰ä¸€ä¸ªå¯ç”¨çš„é»˜è®¤å®ç°ã€‚å¯¹äºå¸¸ç”¨çš„ç±»å‹ï¼Œç³»ç»Ÿæä¾›äº†éœ€è¦çš„ç‰¹åŒ– <span class="orange">[2]</span>ï¼Œç±»ä¼¼äºï¼š</p><!-- [[[read_end]]] --><pre><code class="language-c++">template &lt;class T&gt; struct hash;

template &lt;&gt;
struct hash&lt;int&gt;
  : public unary_function&lt;int, size_t&gt; {
  size_t operator()(int v) const
    noexcept
  {
    return static_cast&lt;size_t&gt;(v);
  }
};
</code></pre><p>è¿™å½“ç„¶æ˜¯ä¸€ä¸ªæå…¶ç®€å•çš„ä¾‹å­ã€‚æ›´å¤æ‚çš„ç±»å‹ï¼Œå¦‚æŒ‡é’ˆæˆ–è€… <code>string</code> çš„ç‰¹åŒ–ï¼Œéƒ½ä¼šæ›´å¤æ‚ã€‚è¦ç‚¹æ˜¯ï¼Œå¯¹äºæ¯ä¸ªç±»ï¼Œç±»çš„ä½œè€…éƒ½å¯ä»¥æä¾› <code>hash</code> çš„ç‰¹åŒ–ï¼Œä½¿å¾—å¯¹äºä¸åŒçš„å¯¹è±¡å€¼ï¼Œå‡½æ•°è°ƒç”¨è¿ç®—ç¬¦éƒ½èƒ½å¾—åˆ°å°½å¯èƒ½å‡åŒ€åˆ†å¸ƒçš„ä¸åŒæ•°å€¼ã€‚</p><p>æˆ‘ä»¬ç”¨ä¸‹é¢è¿™ä¸ªä¾‹å­æ¥åŠ æ·±ä¸€ä¸‹ç†è§£ï¼š</p><pre><code class="language-c++">#include &lt;algorithm&gt;   // std::sort
#include &lt;functional&gt;  // std::less/greater/hash
#include &lt;iostream&gt;    // std::cout/endl
#include &lt;string&gt;      // std::string
#include &lt;vector&gt;      // std::vector
#include "output_container.h"

using namespace std;

int main()
{
  // åˆå§‹æ•°ç»„
  vector&lt;int&gt; v{13, 6, 4, 11, 29};
  cout &lt;&lt; v &lt;&lt; endl;

  // ä»å°åˆ°å¤§æ’åº
  sort(v.begin(), v.end());
  cout &lt;&lt; v &lt;&lt; endl;

  // ä»å°åˆ°å¤§æ’åº
  sort(v.begin(), v.end(),
       greater&lt;int&gt;());
  cout &lt;&lt; v &lt;&lt; endl;

  cout &lt;&lt; hex;

  auto hp = hash&lt;int*&gt;();
  cout &lt;&lt; "hash(nullptr)  = "
       &lt;&lt; hp(nullptr) &lt;&lt; endl;
  cout &lt;&lt; "hash(v.data()) = "
       &lt;&lt; hp(v.data()) &lt;&lt; endl;
  cout &lt;&lt; "v.data()       = "
       &lt;&lt; static_cast&lt;void*&gt;(v.data())
       &lt;&lt; endl;

  auto hs = hash&lt;string&gt;();
  cout &lt;&lt; "hash(\"hello\")  = "
       &lt;&lt; hs(string("hello")) &lt;&lt; endl;
  cout &lt;&lt; "hash(\"hellp\")  = "
       &lt;&lt; hs(string("hellp")) &lt;&lt; endl;
}
</code></pre><p>åœ¨ MSVC ä¸‹çš„æŸæ¬¡è¿è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote>
<p><code>{ 13, 6, 4, 11, 29 }</code><br>
<code>{ 4, 6, 11, 13, 29 }</code><br>
<code>{ 29, 13, 11, 6, 4 }</code><br>
<code>hash(nullptr) = a8c7f832281a39c5</code><br>
<code>hash(v.data()) = 7a0bdfd7df0923d2</code><br>
<code>v.data() = 000001EFFB10EAE0</code><br>
<code>hash("hello") = a430d84680aabd0b</code><br>
<code>hash("hellp") = a430e54680aad322</code></p>
</blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ªå®ç°é‡Œï¼Œç©ºæŒ‡é’ˆçš„å“ˆå¸Œå€¼æ˜¯ä¸€ä¸ªéé›¶çš„æ•°å€¼ï¼ŒæŒ‡é’ˆçš„å“ˆå¸Œå€¼ä¹Ÿå’ŒæŒ‡é’ˆçš„æ•°å€¼ä¸ä¸€æ ·ã€‚è¦æ³¨æ„ä¸åŒçš„å®ç°å¤„ç†çš„æ–¹å¼ä¼šä¸ä¸€æ ·ã€‚äº‹å®ä¸Šï¼Œæˆ‘çš„æµ‹è¯•ç»“æœæ˜¯ GCCã€Clang å’Œ MSVC å¯¹å¸¸è§ç±»å‹çš„å“ˆå¸Œæ–¹å¼éƒ½å„æœ‰ä¸åŒã€‚</p><p>åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬åŒæ—¶å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°å¯¹è±¡çš„å€¼ä¸é‡è¦ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥è®¤ä¸ºï¼Œæ¯ä¸ª <code>less</code>ï¼ˆæˆ– <code>greater</code> æˆ– <code>hash</code>ï¼‰å¯¹è±¡éƒ½æ˜¯ç­‰ä»·çš„ã€‚å…³é”®åœ¨äºå…¶ç±»å‹ã€‚ä»¥ <code>sort</code> ä¸ºä¾‹ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°çš„ç±»å‹ç¡®å®šäº†å…¶æ’åºè¡Œä¸ºã€‚</p><p>å¯¹äºå®¹å™¨ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå‡½æ•°å¯¹è±¡çš„ç±»å‹ç¡®å®šäº†å®¹å™¨çš„è¡Œä¸ºã€‚</p><h2>priority_queue</h2><p><code>priority_queue</code> ä¹Ÿæ˜¯ä¸€ä¸ªå®¹å™¨é€‚é…å™¨ã€‚ä¸Šä¸€è®²æ²¡æœ‰å’Œå…¶ä»–å®¹å™¨é€‚é…å™¨ä¸€èµ·è®²çš„åŸå› å°±åœ¨äºå®ƒç”¨åˆ°äº†æ¯”è¾ƒå‡½æ•°å¯¹è±¡ï¼ˆé»˜è®¤æ˜¯ <code>less</code>ï¼‰ã€‚å®ƒå’Œ <code>stack</code> ç›¸ä¼¼ï¼Œæ”¯æŒ <code>push</code>ã€<code>pop</code>ã€<code>top</code> ç­‰æœ‰é™çš„æ“ä½œï¼Œä½†å®¹å™¨å†…çš„é¡ºåºæ—¢ä¸æ˜¯åè¿›å…ˆå‡ºï¼Œä¹Ÿä¸æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œè€Œæ˜¯ï¼ˆéƒ¨åˆ†ï¼‰æ’åºçš„ç»“æœã€‚åœ¨ä½¿ç”¨ç¼ºçœçš„ <code>less</code> ä½œä¸ºå…¶ <code>Compare</code> æ¨¡æ¿å‚æ•°æ—¶ï¼Œæœ€å¤§çš„æ•°å€¼ä¼šå‡ºç°åœ¨å®¹å™¨çš„â€œé¡¶éƒ¨â€ã€‚å¦‚æœéœ€è¦æœ€å°çš„æ•°å€¼å‡ºç°åœ¨å®¹å™¨é¡¶éƒ¨ï¼Œåˆ™å¯ä»¥ä¼ é€’ <code>greater</code> ä½œä¸ºå…¶ <code>Compare</code> æ¨¡æ¿å‚æ•°ã€‚</p><p>ä¸‹é¢çš„ä»£ç å¯ä»¥æ¼”ç¤ºå…¶åŠŸèƒ½ï¼š</p><pre><code class="language-c++">#include &lt;functional&gt;  // std::greater
#include &lt;iostream&gt;    // std::cout/endl
#include &lt;memory&gt;      // std::pair
#include &lt;queue&gt;       // std::priority_queue
#include &lt;vector&gt;      // std::vector
#include "output_container.h"

using namespace std;

int main()
{
  priority_queue&lt;
    pair&lt;int, int&gt;,
    vector&lt;pair&lt;int, int&gt;&gt;,
    greater&lt;pair&lt;int, int&gt;&gt;&gt;
    q;
  q.push({1, 1});
  q.push({2, 2});
  q.push({0, 3});
  q.push({9, 4});
  while (!q.empty()) {
    cout &lt;&lt; q.top() &lt;&lt; endl;
    q.pop();
  }
}
</code></pre><p>è¾“å‡ºä¸ºï¼š</p><blockquote>
<p><code>(0, 3)</code><br>
<code>(1, 1)</code><br>
<code>(2, 2)</code><br>
<code>(9, 4)</code></p>
</blockquote><h2>å…³è”å®¹å™¨</h2><p>å…³è”å®¹å™¨æœ‰ <code>set</code>ï¼ˆé›†åˆï¼‰ã€<code>map</code>ï¼ˆæ˜ å°„ï¼‰ã€<code>multiset</code>ï¼ˆå¤šé‡é›†ï¼‰å’Œ <code>multimap</code>ï¼ˆå¤šé‡æ˜ å°„ï¼‰ã€‚è·³å‡º C++ çš„è¯­å¢ƒï¼Œ<code>map</code>ï¼ˆæ˜ å°„ï¼‰çš„æ›´å¸¸è§çš„åå­—æ˜¯å…³è”æ•°ç»„å’Œå­—å…¸ <span class="orange">[3]</span>ï¼Œè€Œåœ¨ JSON é‡Œç›´æ¥è¢«ç§°ä¸ºå¯¹è±¡ï¼ˆobjectï¼‰ã€‚åœ¨ C++ å¤–è¿™äº›å®¹å™¨å¸¸å¸¸æ˜¯æ— åºçš„ï¼›åœ¨ C++ é‡Œå…³è”å®¹å™¨åˆ™è¢«è®¤ä¸ºæ˜¯æœ‰åºçš„ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹çš„ xeus-cling äº¤äº’æ¥ä½“ä¼šä¸€ä¸‹ã€‚</p><pre><code class="language-c++">#include &lt;functional&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;string&gt;
using namespace std;
</code></pre><pre><code class="language-c++">set&lt;int&gt; s{1, 1, 1, 2, 3, 4};
</code></pre><pre><code class="language-c++">s
</code></pre><blockquote>
<p><code>{ 1, 2, 3, 4 }</code></p>
</blockquote><pre><code class="language-c++">multiset&lt;int, greater&lt;int&gt;&gt; ms{1, 1, 1, 2, 3, 4};
</code></pre><pre><code class="language-c++">ms
</code></pre><blockquote>
<p><code>{ 4, 3, 2, 1, 1, 1 }</code></p>
</blockquote><pre><code class="language-c++">map&lt;string, int&gt; mp{
  {"one", 1},
  {"two", 2},
  {"three", 3},
  {"four", 4}
};
</code></pre><pre><code class="language-c++">mp
</code></pre><blockquote>
<p><code>{ "four" =&gt; 4, "one" =&gt; 1, "three" =&gt; 3, "two" =&gt; 2 }</code></p>
</blockquote><pre><code class="language-c++">mp.insert({"four", 4});
</code></pre><pre><code class="language-c++">mp
</code></pre><blockquote>
<p><code>{ "four" =&gt; 4, "one" =&gt; 1, "three" =&gt; 3, "two" =&gt; 2 }</code></p>
</blockquote><pre><code class="language-c++">mp.find("four") == mp.end()
</code></pre><blockquote>
<p><code>false</code></p>
</blockquote><pre><code class="language-c++">mp.find("five") == mp.end()
</code></pre><blockquote>
<p><code>(bool) true</code></p>
</blockquote><pre><code class="language-c++">mp["five"] = 5;
</code></pre><pre><code class="language-c++">mp
</code></pre><blockquote>
<p><code>{ "five" =&gt; 5, "four" =&gt; 4, "one" =&gt; 1, "three" =&gt; 3, "two" =&gt; 2 }</code></p>
</blockquote><pre><code class="language-c++">multimap&lt;string, int&gt; mmp{
  {"one", 1},
  {"two", 2},
  {"three", 3},
  {"four", 4}
};
</code></pre><pre><code class="language-c++">mmp
</code></pre><blockquote>
<p><code>{ "four" =&gt; 4, "one" =&gt; 1, "three" =&gt; 3, "two" =&gt; 2 }</code></p>
</blockquote><pre><code class="language-c++">mmp.insert({"four", -4});
</code></pre><pre><code class="language-c++">mmp
</code></pre><blockquote>
<p><code>{ "four" =&gt; 4, "four" =&gt; -4, "one" =&gt; 1, "three" =&gt; 3, "two" =&gt; 2 }</code></p>
</blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œå…³è”å®¹å™¨æ˜¯ä¸€ç§æœ‰åºçš„å®¹å™¨ã€‚åå­—å¸¦â€œmultiâ€çš„å…è®¸é”®é‡å¤ï¼Œä¸å¸¦çš„ä¸å…è®¸é”®é‡å¤ã€‚<code>set</code> å’Œ <code>multiset</code> åªèƒ½ç”¨æ¥å­˜æ”¾é”®ï¼Œè€Œ <code>map</code> å’Œ <code>multimap</code> åˆ™å­˜æ”¾ä¸€ä¸ªä¸ªé”®å€¼å¯¹ã€‚</p><p>ä¸åºåˆ—å®¹å™¨ç›¸æ¯”ï¼Œå…³è”å®¹å™¨æ²¡æœ‰å‰ã€åçš„æ¦‚å¿µåŠç›¸å…³çš„æˆå‘˜å‡½æ•°ï¼Œä½†åŒæ ·æä¾› <code>insert</code>ã€<code>emplace</code> ç­‰æˆå‘˜å‡½æ•°ã€‚æ­¤å¤–ï¼Œå…³è”å®¹å™¨éƒ½æœ‰ <code>find</code>ã€<code>lower_bound</code>ã€<code>upper_bound</code> ç­‰æŸ¥æ‰¾å‡½æ•°ï¼Œç»“æœæ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼š</p><ul>
<li><code>find(k)</code> å¯ä»¥æ‰¾åˆ°ä»»ä½•ä¸€ä¸ªç­‰ä»·äºæŸ¥æ‰¾é”® k çš„å…ƒç´ ï¼ˆ<code>!(x &lt; k || k &lt; x)</code>ï¼‰</li>
<li><code>lower_bound(k)</code> æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸å°äºæŸ¥æ‰¾é”® k çš„å…ƒç´ ï¼ˆ<code>!(x &lt; k)</code>ï¼‰</li>
<li><code>upper_bound(k)</code> æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºæŸ¥æ‰¾é”® k çš„å…ƒç´ ï¼ˆ<code>k &lt; x</code>ï¼‰</li>
</ul><pre><code class="language-c++">mp.find("four")-&gt;second
</code></pre><blockquote>
<p><code>4</code></p>
</blockquote><pre><code class="language-c++">mp.lower_bound("four")-&gt;second
</code></pre><blockquote>
<p><code>4</code></p>
</blockquote><pre><code class="language-c++">(--mp.upper_bound("four"))-&gt;second
</code></pre><blockquote>
<p><code>4</code></p>
</blockquote><pre><code class="language-c++">mmp.lower_bound("four")-&gt;second
</code></pre><blockquote>
<p><code>4</code></p>
</blockquote><pre><code class="language-c++">(--mmp.upper_bound("four"))-&gt;second
</code></pre><blockquote>
<p><code>-4</code></p>
</blockquote><p>å¦‚æœä½ éœ€è¦åœ¨ <code>multimap</code> é‡Œç²¾ç¡®æŸ¥æ‰¾æ»¡è¶³æŸä¸ªé”®çš„åŒºé—´çš„è¯ï¼Œå»ºè®®ä½¿ç”¨ <code>equal_range</code>ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å–å¾—ä¸Šä¸‹ç•Œï¼ˆåŠå¼€åŠé—­ï¼‰ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class="language-c++">#include &lt;tuple&gt;
multimap&lt;string, int&gt;::iterator
  lower, upper;
std::tie(lower, upper) =
  mmp.equal_range("four");
</code></pre><pre><code class="language-c++">(lower != upper)  // æ£€æµ‹åŒºé—´éç©º
</code></pre><blockquote>
<p><code>true</code></p>
</blockquote><pre><code class="language-c++">lower-&gt;second
</code></pre><blockquote>
<p><code>4</code></p>
</blockquote><pre><code class="language-c++">(--upper)-&gt;second
</code></pre><blockquote>
<p><code>-4</code></p>
</blockquote><p>å¦‚æœåœ¨å£°æ˜å…³è”å®¹å™¨æ—¶æ²¡æœ‰æä¾›æ¯”è¾ƒç±»å‹çš„å‚æ•°ï¼Œç¼ºçœä½¿ç”¨ <code>less</code> æ¥è¿›è¡Œæ’åºã€‚å¦‚æœé”®çš„ç±»å‹æä¾›äº†æ¯”è¾ƒç®—ç¬¦ <code>&lt;</code> çš„é‡è½½ï¼Œæˆ‘ä»¬ä¸éœ€è¦åšä»»ä½•é¢å¤–çš„å·¥ä½œã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹é”®ç±»å‹è¿›è¡Œ <code>less</code> çš„ç‰¹åŒ–ï¼Œæˆ–è€…æä¾›ä¸€ä¸ªå…¶ä»–çš„å‡½æ•°å¯¹è±¡ç±»å‹ã€‚</p><p>å¯¹äºè‡ªå®šä¹‰ç±»å‹ï¼Œæˆ‘æ¨èå°½é‡ä½¿ç”¨æ ‡å‡†çš„ <code>less</code> å®ç°ï¼Œé€šè¿‡é‡è½½ <code>&lt;</code>ï¼ˆåŠå…¶ä»–æ ‡å‡†æ¯”è¾ƒè¿ç®—ç¬¦ï¼‰å¯¹è¯¥ç±»å‹çš„å¯¹è±¡è¿›è¡Œæ’åºã€‚å­˜å‚¨åœ¨å…³è”å®¹å™¨ä¸­çš„é”®ä¸€èˆ¬åº”æ»¡è¶³ä¸¥æ ¼å¼±åºå…³ç³»ï¼ˆstrict weak orderingï¼›<span class="orange">[4]</span>ï¼‰ï¼Œå³ï¼š</p><ul>
<li>å¯¹äºä»»ä½•è¯¥ç±»å‹çš„å¯¹è±¡ xï¼š<code>!(x &lt; x)</code>ï¼ˆéè‡ªåï¼‰</li>
<li>å¯¹äºä»»ä½•è¯¥ç±»å‹çš„å¯¹è±¡ x å’Œ yï¼šå¦‚æœ <code>x &lt; y</code>ï¼Œåˆ™ <code>!(y &lt; x)</code>ï¼ˆéå¯¹ç§°ï¼‰</li>
<li>å¯¹äºä»»ä½•è¯¥ç±»å‹çš„å¯¹è±¡ xã€y å’Œ zï¼šå¦‚æœ <code>x &lt; y</code> å¹¶ä¸” <code>y &lt; z</code>ï¼Œåˆ™ <code>x &lt; z</code>ï¼ˆä¼ é€’æ€§ï¼‰</li>
<li>å¯¹äºä»»ä½•è¯¥ç±»å‹çš„å¯¹è±¡ xã€y å’Œ zï¼šå¦‚æœ x å’Œ y ä¸å¯æ¯”ï¼ˆ<code>!(x &lt; y)</code> å¹¶ä¸” <code>!(y &lt; x)</code>ï¼‰å¹¶ä¸” y å’Œ z ä¸å¯æ¯”ï¼Œåˆ™ x å’Œ z ä¸å¯æ¯”ï¼ˆä¸å¯æ¯”çš„ä¼ é€’æ€§ï¼‰</li>
</ul><p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œç±»å‹æ˜¯å¯ä»¥æ»¡è¶³è¿™äº›æ¡ä»¶çš„ï¼Œä¸è¿‡ï¼š</p><ul>
<li>å¦‚æœç±»å‹æ²¡æœ‰ä¸€èˆ¬æ„ä¹‰ä¸Šçš„å¤§å°å…³ç³»ï¼ˆå¦‚å¤æ•°ï¼‰ï¼Œæˆ‘ä»¬ä¸€å®šè¦åˆ«æ‰­åœ°å®šä¹‰ä¸€ä¸ªå¤§å°å…³ç³»å—ï¼Ÿ</li>
<li>é€šè¿‡æ¯”è¾ƒæ¥è¿›è¡ŒæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤ï¼Œå¤æ‚åº¦ä¸ºå¯¹æ•° O(log(n))ï¼Œæœ‰æ²¡æœ‰è¾¾åˆ°æ›´å¥½çš„æ€§èƒ½çš„æ–¹æ³•ï¼Ÿ</li>
</ul><h2>æ— åºå…³è”å®¹å™¨</h2><p>ä» C++11 å¼€å§‹ï¼Œæ¯ä¸€ä¸ªå…³è”å®¹å™¨éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„æ— åºå…³è”å®¹å™¨ï¼Œå®ƒä»¬æ˜¯ï¼š</p><ul>
<li><code>unordered_set</code></li>
<li><code>unordered_map</code></li>
<li><code>unordered_multiset</code></li>
<li><code>unordered_multimap</code></li>
</ul><p>è¿™äº›å®¹å™¨å’Œå…³è”å®¹å™¨éå¸¸ç›¸ä¼¼ï¼Œä¸»è¦çš„åŒºåˆ«å°±åœ¨äºå®ƒä»¬æ˜¯â€œæ— åºâ€çš„ã€‚è¿™äº›å®¹å™¨ä¸è¦æ±‚æä¾›ä¸€ä¸ªæ’åºçš„å‡½æ•°å¯¹è±¡ï¼Œè€Œè¦æ±‚ä¸€ä¸ªå¯ä»¥è®¡ç®—å“ˆå¸Œå€¼çš„å‡½æ•°å¯¹è±¡ã€‚ä½ å½“ç„¶å¯ä»¥åœ¨å£°æ˜å®¹å™¨å¯¹è±¡æ—¶æ‰‹åŠ¨æä¾›è¿™æ ·ä¸€ä¸ªå‡½æ•°å¯¹è±¡ç±»å‹ï¼Œä½†æ›´å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ ‡å‡†çš„ <code>hash</code> å‡½æ•°å¯¹è±¡åŠå…¶ç‰¹åŒ–ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼ˆè¿™æ¬¡æˆ‘ä»¬æš‚ä¸ä½¿ç”¨ xeus-clingï¼Œå› ä¸ºå®ƒåœ¨è¾“å‡ºå¤æ•°æ—¶æœ‰é™åˆ¶ï¼Œä¸èƒ½æ˜¾ç¤ºå…¶æ•°å€¼ï¼‰ï¼š</p><pre><code class="language-c++">#include &lt;complex&gt;        // std::complex
#include &lt;iostream&gt;       // std::cout/endl
#include &lt;unordered_map&gt;  // std::unordered_map
#include &lt;unordered_set&gt;  // std::unordered_set
#include "output_container.h"

using namespace std;

namespace std {

template &lt;typename T&gt;
struct hash&lt;complex&lt;T&gt;&gt; {
  size_t
  operator()(const complex&lt;T&gt;&amp; v) const
    noexcept
  {
    hash&lt;T&gt; h;
    return h(v.real()) + h(v.imag());
  }
};

}  // namespace std

int main()
{
  unordered_set&lt;int&gt; s{
    1, 1, 2, 3, 5, 8, 13, 21
  };
  cout &lt;&lt; s &lt;&lt; endl;

  unordered_map&lt;complex&lt;double&gt;,
                double&gt;
    umc{{{1.0, 1.0}, 1.4142},
        {{3.0, 4.0}, 5.0}};
  cout &lt;&lt; umc &lt;&lt; endl;
}
</code></pre><p>è¾“å‡ºå¯èƒ½æ˜¯ï¼ˆé¡ºåºä¸èƒ½ä¿è¯ï¼‰ï¼š</p><blockquote>
<p><code>{ 21, 5, 8, 3, 13, 2, 1 }</code><br>
<code>{ (3,4) =&gt; 5, (1,1) =&gt; 1.4142 }</code></p>
</blockquote><p>è¯·æ³¨æ„æˆ‘ä»¬åœ¨ <code>std</code> åç©ºé—´ä¸­æ·»åŠ äº†ç‰¹åŒ–ï¼Œè¿™æ˜¯å°‘æ•°ç”¨æˆ·å¯ä»¥å‘ <code>std</code> åç©ºé—´æ·»åŠ å†…å®¹çš„æƒ…å†µä¹‹ä¸€ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå‘ <code>std</code> åç©ºé—´æ·»åŠ å£°æ˜æˆ–å®šä¹‰æ˜¯ç¦æ­¢çš„ï¼Œå±äºæœªå®šä¹‰è¡Œä¸ºã€‚</p><p>ä»å®é™…çš„å·¥ç¨‹è§’åº¦ï¼Œæ— åºå…³è”å®¹å™¨çš„ä¸»è¦ä¼˜ç‚¹åœ¨äºå…¶æ€§èƒ½ã€‚å…³è”å®¹å™¨å’Œ <code>priority_queue</code> çš„æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œä»¥åŠå…³è”å®¹å™¨çš„æŸ¥æ‰¾æ“ä½œï¼Œå…¶å¤æ‚åº¦éƒ½æ˜¯ O(log(n))ï¼Œè€Œæ— åºå…³è”å®¹å™¨çš„å®ç°ä½¿ç”¨å“ˆå¸Œè¡¨ <span class="orange">[5]</span>ï¼Œå¯ä»¥è¾¾åˆ°å¹³å‡ O(1)ï¼ä½†è¿™å–å†³äºæˆ‘ä»¬æ˜¯å¦ä½¿ç”¨äº†ä¸€ä¸ªå¥½çš„å“ˆå¸Œå‡½æ•°ï¼šåœ¨å“ˆå¸Œå‡½æ•°é€‰æ‹©ä¸å½“çš„æƒ…å†µä¸‹ï¼Œæ— åºå…³è”å®¹å™¨çš„æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾æ€§èƒ½å¯èƒ½æˆä¸ºæœ€å·®æƒ…å†µçš„ O(n)ï¼Œé‚£å°±æ¯”å…³è”å®¹å™¨ç³Ÿç³•å¾—å¤šäº†ã€‚</p><h2>array</h2><p>æˆ‘ä»¬è®²çš„æœ€åä¸€ä¸ªå®¹å™¨æ˜¯ C æ•°ç»„çš„æ›¿ä»£å“ã€‚C æ•°ç»„åœ¨ C++ é‡Œç»§ç»­å­˜åœ¨ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¿ç•™å’Œ C çš„å‘åå…¼å®¹æ€§ã€‚C æ•°ç»„æœ¬èº«å’Œ C++ çš„å®¹å™¨ç›¸å·®æ˜¯éå¸¸å¤§çš„ï¼š</p><ul>
<li>C æ•°ç»„æ²¡æœ‰ <code>begin</code> å’Œ <code>end</code> æˆå‘˜å‡½æ•°ï¼ˆè™½ç„¶å¯ä»¥ä½¿ç”¨å…¨å±€çš„ <code>begin</code> å’Œ <code>end</code> å‡½æ•°ï¼‰</li>
<li>C æ•°ç»„æ²¡æœ‰ <code>size</code> æˆå‘˜å‡½æ•°ï¼ˆå¾—ç”¨ä¸€äº›æ¨¡æ¿æŠ€å·§æ¥è·å–å…¶é•¿åº¦ï¼‰</li>
<li>C æ•°ç»„ä½œä¸ºå‚æ•°æœ‰é€€åŒ–è¡Œä¸ºï¼Œä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°åé‚£ä¸ªå‡½æ•°ä¸å†èƒ½è·å¾— C æ•°ç»„çš„é•¿åº¦å’Œç»“æŸä½ç½®</li>
</ul><p>åœ¨ C çš„å¹´ä»£ï¼Œå¤§å®¶æœ‰æ—¶å€™ä¼šå®šä¹‰è¿™æ ·ä¸€ä¸ªå®æ¥è·å¾—æ•°ç»„çš„é•¿åº¦ï¼š</p><pre><code class="language-c++">#define ARRAY_LEN(a) \
  (sizeof(a) / sizeof((a)[0]))
</code></pre><p>å¦‚æœåœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨å¯¹æ•°ç»„å‚æ•°ä½¿ç”¨è¿™ä¸ªå®ï¼Œç»“æœè‚¯å®šæ˜¯é”™çš„ã€‚ç°åœ¨ GCC ä¼šå‹å¥½åœ°å‘å‡ºè­¦å‘Šï¼š</p><pre><code class="language-c++">void test(int a[8])
{
  cout &lt;&lt; ARRAY_LEN(a) &lt;&lt; endl;
}
</code></pre><blockquote>
<p>warning: sizeof on array function parameter will return size of â€˜int *â€™ instead of â€˜int [8]â€™ [-Wsizeof-array-argument]<br>
&nbsp;&nbsp;&nbsp;&nbsp;cout &lt;&lt; ARRAY_LEN(a) &lt;&lt; endl;</p>
</blockquote><p>C++17 ç›´æ¥æä¾›äº†ä¸€ä¸ª <code>size</code> æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºæä¾›æ•°ç»„é•¿åº¦ï¼Œå¹¶ä¸”åœ¨æ•°ç»„é€€åŒ–æˆæŒ‡é’ˆçš„æƒ…å†µä¸‹ä¼šç›´æ¥å¤±è´¥ï¼š</p><pre><code class="language-c++">#include &lt;iostream&gt;  // std::cout/endl
#include &lt;iterator&gt;  // std::size

void test(int arr[])
{
  // ä¸èƒ½ç¼–è¯‘
  // std::cout &lt;&lt; std::size(arr)
  //           &lt;&lt; std::endl;
}

int main()
{
  int arr[] = {1, 2, 3, 4, 5};
  std::cout &lt;&lt; "The array length is "
            &lt;&lt; std::size(arr)
            &lt;&lt; std::endl;
  test(arr);
}
</code></pre><p>æ­¤å¤–ï¼ŒC æ•°ç»„ä¹Ÿæ²¡æœ‰è‰¯å¥½çš„å¤åˆ¶è¡Œä¸ºã€‚ä½ æ— æ³•ç”¨ C æ•°ç»„ä½œä¸º <code>map</code> æˆ– <code>unordered_map</code> çš„é”®ç±»å‹ã€‚ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å¤±è´¥è¡Œä¸ºï¼š</p><pre><code class="language-c++">#include &lt;map&gt;  // std::map

typedef char mykey_t[8];

int main()
{
  std::map&lt;mykey_t, int&gt; mp;
  mykey_t mykey{"hello"};
  mp[mykey] = 5;
  // è½°ï¼Œå¤§æ®µçš„ç¼–è¯‘é”™è¯¯
}
</code></pre><p>å¦‚æœä¸ç”¨ C æ•°ç»„çš„è¯ï¼Œæˆ‘ä»¬è¯¥ç”¨ä»€ä¹ˆæ¥æ›¿ä»£å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æœ‰ä¸‰ä¸ªå¯ä»¥è€ƒè™‘çš„é€‰é¡¹ï¼š</p><ul>
<li>å¦‚æœæ•°ç»„è¾ƒå¤§çš„è¯ï¼Œåº”è¯¥è€ƒè™‘ <code>vector</code>ã€‚<code>vector</code> æœ‰æœ€å¤§çš„çµæ´»æ€§å’Œä¸é”™çš„æ€§èƒ½ã€‚</li>
<li>å¯¹äºå­—ç¬¦ä¸²æ•°ç»„ï¼Œå½“ç„¶åº”è¯¥è€ƒè™‘ <code>string</code>ã€‚</li>
<li>å¦‚æœæ•°ç»„å¤§å°å›ºå®šï¼ˆC çš„æ•°ç»„åœ¨ C++ é‡Œæœ¬æ¥å°±æ˜¯å¤§å°å›ºå®šçš„ï¼‰å¹¶ä¸”è¾ƒå°çš„è¯ï¼Œåº”è¯¥è€ƒè™‘ <code>array</code>ã€‚<code>array</code> ä¿ç•™äº† C æ•°ç»„åœ¨æ ˆä¸Šåˆ†é…çš„ç‰¹ç‚¹ï¼ŒåŒæ—¶ï¼Œæä¾›äº† <code>begin</code>ã€<code>end</code>ã€<code>size</code> ç­‰é€šç”¨æˆå‘˜å‡½æ•°ã€‚</li>
</ul><p><code>array</code> å¯ä»¥é¿å… C æ•°ç»„çš„ç§ç§æ€ªå¼‚è¡Œå¾„ã€‚ä¸Šé¢çš„å¤±è´¥ä»£ç ï¼Œå¦‚æœä½¿ç”¨ <code>array</code> çš„è¯ï¼Œç¨ä½œæ”¹åŠ¨å°±å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼š</p><pre><code class="language-c++">#include &lt;array&gt;     // std::array
#include &lt;iostream&gt;  // std::cout/endl
#include &lt;map&gt;       // std::map
#include "output_container.h"

typedef std::array&lt;char, 8&gt; mykey_t;

int main()
{
  std::map&lt;mykey_t, int&gt; mp;
  mykey_t mykey{"hello"};
  mp[mykey] = 5;  // OK
  std::cout &lt;&lt; mp &lt;&lt; std::endl;
}
</code></pre><p>è¾“å‡ºåˆ™æ˜¯æ„æ–™ä¹‹ä¸­çš„ï¼š</p><blockquote>
<p><code>{ hello =&gt; 5 }</code></p>
</blockquote><h2>å†…å®¹å°ç»“</h2><p>æœ¬è®²ä»‹ç»äº† C++ çš„ä¸¤ä¸ªå¸¸ç”¨çš„å‡½æ•°å¯¹è±¡ï¼Œ<code>less</code> å’Œ <code>hash</code>ï¼›ç„¶åä»‹ç»äº†ç”¨åˆ°è¿™ä¸¤ä¸ªå‡½æ•°å¯¹è±¡çš„å®¹å™¨é€‚é…å™¨ã€å…³è”å®¹å™¨å’Œæ— åºå…³è”å®¹å™¨ï¼›æœ€åï¼Œé€šè¿‡ä¾‹å­å±•ç¤ºäº†ä¸ºä»€ä¹ˆæˆ‘ä»¬åº”å½“é¿å… C æ•°ç»„è€Œè€ƒè™‘ä½¿ç”¨ <code>array</code>ã€‚é€šè¿‡è¿™ä¸¤è®²ï¼Œæˆ‘ä»¬å·²ç»å®Œæ•´åœ°äº†è§£äº† C++ æä¾›çš„æ ‡å‡†å®¹å™¨ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>è¯·æ€è€ƒä¸€ä¸‹ï¼š</p><ol>
<li>ä¸ºä»€ä¹ˆå¤§éƒ¨åˆ†å®¹å™¨éƒ½æä¾›äº† <code>begin</code>ã€<code>end</code> ç­‰æ–¹æ³•ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆå®¹å™¨æ²¡æœ‰ç»§æ‰¿ä¸€ä¸ªå…¬ç”¨çš„åŸºç±»ï¼Ÿ</li>
</ol><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘äº¤æµä½ çš„çœ‹æ³•ã€‚</p><h2><span class="reference">å‚è€ƒèµ„æ–™</span></h2><p><span class="reference">[1] cppreference.com, â€œContainers libraryâ€. <a href="https://en.cppreference.com/w/cpp/container">https://en.cppreference.com/w/cpp/container</a> </span></p><p><span class="reference">[1a] cppreference.com, â€œå®¹å™¨åº“â€. <a href="https://zh.cppreference.com/w/cpp/container">https://zh.cppreference.com/w/cpp/container</a> </span></p><p><span class="reference">[2] cppreference.com, â€œExplicit (full) template specializationâ€. <a href="https://en.cppreference.com/w/cpp/language/template_specialization">https://en.cppreference.com/w/cpp/language/template_specialization</a> </span></p><p><span class="reference">[2a] cppreference.com, â€œæ˜¾å¼ï¼ˆå…¨ï¼‰æ¨¡æ¿ç‰¹åŒ–â€. <a href="https://zh.cppreference.com/w/cpp/language/template_specialization">https://zh.cppreference.com/w/cpp/language/template_specialization</a> </span></p><p><span class="reference">[3] Wikipedia, â€œAssociative arrayâ€. <a href="https://en.wikipedia.org/wiki/Associative_array">https://en.wikipedia.org/wiki/Associative_array</a> </span></p><p><span class="reference">[3a] ç»´åŸºç™¾ç§‘, â€œå…³è”æ•°ç»„â€. <a href="https://zh.wikipedia.org/zh-cn/%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84">https://zh.wikipedia.org/zh-cn/å…³è”æ•°ç»„</a> </span></p><p><span class="reference">[4] Wikipedia, â€œWeak orderingâ€. <a href="https://en.wikipedia.org/wiki/Weak_ordering">https://en.wikipedia.org/wiki/Weak_ordering</a> </span></p><p><span class="reference">[5] Wikipedia, â€œHash tableâ€. <a href="https://en.wikipedia.org/wiki/Hash_table">https://en.wikipedia.org/wiki/Hash_table</a> </span></p><p><span class="reference">[5a] ç»´åŸºç™¾ç§‘, â€œå“ˆå¸Œè¡¨â€. <a href="https://zh.wikipedia.org/zh-cn/%E5%93%88%E5%B8%8C%E8%A1%A8">https://zh.wikipedia.org/zh-cn/å“ˆå¸Œè¡¨</a> </span></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            ç½—ä¹¾æ—  2019-12-06 10:41:34
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            1ã€ä¸ºalgorithmæœåŠ¡<br>2ã€ç»§æ‰¿å¿…ç„¶è¦ç”¨è™šå‡½æ•°ï¼Œæ€§èƒ½æœ‰æŸå¤± 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            æä¹‰ç››çˆ±ç‹å”ç¡•  2019-12-06 10:04:26
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            2.ç»§æ‰¿æ˜¯å¼ºè€¦åˆã€‚ ç»§æ‰¿å¯¼è‡´å…³ç³»æ··ä¹±ã€‚ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            æ€»ç»Ÿè€å”  2019-12-06 09:50:58
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            åˆæ›´æ–°ä¸€è¯¾ï¼Œä¹‹å‰è¿˜æœ‰åŒå­¦è¯´æ›´æ–°æ…¢ï¼Œç°åœ¨çœ‹ï¼Œæ˜¯æ›´æ–°å¤ªå¿«äº†ï¼Œå› ä¸ºéƒ½æ˜¯å¹²è´§ï¼Œæ¯ä¸€è¯¾éƒ½è¦èŠ±å¤§åŠ›æ°”å­¦ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            hello world  2019-12-06 08:11:32
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            1. å› ä¸ºç»Ÿä¸€è¦ä¸ºè¿­ä»£å™¨æœåŠ¡<br>2. ç­‰å¤§ä½¬ä»¬ï¼ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2019-12-06 09:24:48</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">åŒå­¦åŠ¨ä½œå¾ˆå¿«ï¼Œä½†æœ‰ç‚¹è°ƒçš®å•Šã€‚ğŸ˜„</div>
</div>
            
    </div>
</li>
            </ul>
</div>
</body>
</html>