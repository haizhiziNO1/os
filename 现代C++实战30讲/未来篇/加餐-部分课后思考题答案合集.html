<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>åŠ é¤-éƒ¨åˆ†è¯¾åæ€è€ƒé¢˜ç­”æ¡ˆåˆé›†</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>åŠ é¤-éƒ¨åˆ†è¯¾åæ€è€ƒé¢˜ç­”æ¡ˆåˆé›†</h1>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚è¿™ä¸€è®²æˆ‘ä¸ºä½ æ•´ç†äº†æœ¬ä¸“æ éƒ¨åˆ†è¯¾åæ€è€ƒé¢˜çš„ç­”æ¡ˆï¼Œç»™ä½ ä½œä¸ºå‚è€ƒã€‚</p><h2><a href="https://time.geekbang.org/column/article/169263">ç¬¬ 2 è®²</a></h2><p><strong>ä½ è§‰å¾—æ™ºèƒ½æŒ‡é’ˆåº”è¯¥æ»¡è¶³ä»€ä¹ˆæ ·çš„çº¿ç¨‹å®‰å…¨æ€§ï¼Ÿ</strong></p><p>ç­”ï¼šï¼ˆä¸æ˜¯çœŸæ­£çš„å›ç­”ï¼Œåªæ˜¯æè¿°ä¸€ä¸‹æ ‡å‡†ä¸­çš„æ™ºèƒ½æŒ‡é’ˆçš„çº¿ç¨‹å®‰å…¨æ€§ã€‚ï¼‰</p><ol>
<li>å¤šä¸ªä¸åŒçº¿ç¨‹åŒæ—¶è®¿é—®ä¸åŒçš„æ™ºèƒ½æŒ‡é’ˆï¼ˆä¸ç®¡æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼‰æ˜¯å®‰å…¨çš„ã€‚</li>
<li>å¤šä¸ªä¸åŒçº¿ç¨‹åŒæ—¶è¯»å–åŒä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆæ˜¯å®‰å…¨çš„ã€‚</li>
<li>å¤šä¸ªä¸åŒçº¿ç¨‹åœ¨åŒä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆä¸Šæ‰§è¡ŒåŸå­æ“ä½œï¼ˆ<code>atomic_load</code> ç­‰ï¼‰æ˜¯å®‰å…¨çš„ã€‚</li>
<li>å¤šä¸ªä¸åŒçº¿ç¨‹æ ¹æ®åŒä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆåˆ›å»ºæ–°çš„æ™ºèƒ½æŒ‡é’ˆï¼ˆå¢åŠ å¼•ç”¨è®¡æ•°ï¼‰æ˜¯å®‰å…¨çš„ã€‚</li>
<li>åªä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹æœ€åä¼šï¼ˆåœ¨å¼•ç”¨è®¡æ•°è¡¨ç¤ºå·²ç»æ— å¼•ç”¨æ—¶ï¼‰è°ƒç”¨åˆ é™¤å‡½æ•°å»é”€æ¯å­˜å‚¨çš„å¯¹è±¡ã€‚</li>
</ol><p>å…¶ä»–æ“ä½œæ½œåœ¨æ˜¯ä¸å®‰å…¨çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸åŒçš„çº¿ç¨‹å¯¹åŒä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆæ‰§è¡Œ <code>reset</code> ç­‰ä¿®æ”¹æ“ä½œã€‚</p><h2><a href="https://time.geekbang.org/column/article/169268">ç¬¬ 3 è®²</a></h2><p><strong>ä¸ºä»€ä¹ˆ <code>smart_ptr::operator=</code> å¯¹å·¦å€¼å’Œå³å€¼éƒ½æœ‰æ•ˆï¼Œè€Œä¸”ä¸éœ€è¦å¯¹ç­‰å·ä¸¤è¾¹æ˜¯å¦å¼•ç”¨åŒä¸€å¯¹è±¡è¿›è¡Œåˆ¤æ–­ï¼Ÿ</strong></p><p>ç­”ï¼šæˆ‘ä»¬ä½¿ç”¨å€¼ç±»å‹è€Œéå¼•ç”¨ç±»å‹ä½œä¸ºå½¢å‚ï¼Œè¿™æ ·å®å‚æ°¸è¿œä¼šè¢«ç§»åŠ¨ï¼ˆå³å€¼çš„æƒ…å†µï¼‰æˆ–å¤åˆ¶ï¼ˆå·¦å€¼çš„æƒ…å†µï¼‰ï¼Œä¸å¯èƒ½å’Œ <code>*this</code> å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ã€‚</p><h2><a href="https://time.geekbang.org/column/article/173167">ç¬¬ 4 è®²</a></h2><p><strong>ä¸ºä»€ä¹ˆ <code>stack</code>ï¼ˆæˆ– <code>queue</code>ï¼‰çš„ <code>pop</code> å‡½æ•°è¿”å›ç±»å‹ä¸º <code>void</code>ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿”å›å®¹å™¨çš„ <code>top</code>ï¼ˆæˆ– <code>front</code>ï¼‰æˆå‘˜ï¼Ÿ</strong></p><p>ç­”ï¼šè¿™æ˜¯ C++98 é‡Œã€è¿˜æ²¡æœ‰ç§»åŠ¨è¯­ä¹‰æ—¶çš„è®¾è®¡ã€‚å¦‚æœ <code>pop</code> è¿”å›å…ƒç´ ï¼Œè€Œå…ƒç´ æ‹·è´æ—¶å‘ç”Ÿå¼‚å¸¸çš„è¯ï¼Œé‚£è¿™ä¸ªå…ƒç´ å°±ä¸¢å¤±äº†ã€‚å› è€Œå®¹å™¨è®¾è®¡æˆæœ‰åˆ†ç¦»çš„ <code>top</code>ï¼ˆæˆ– <code>front</code>ï¼‰å’Œ <code>pop</code> æˆå‘˜å‡½æ•°ï¼Œåˆ†åˆ«æ‰§è¡Œè®¿é—®å’Œå¼¹å‡ºçš„æ“ä½œã€‚</p><!-- [[[read_end]]] --><p>æœ‰ä¸€ç§å¯èƒ½çš„è®¾è®¡æ˜¯æŠŠæ¥å£æ”¹æˆ <code>void pop(T&amp;)</code>ï¼Œè¿™å¢åŠ äº† <code>T</code> å¿…é¡»æ”¯æŒé»˜è®¤æ„é€ å’Œèµ‹å€¼çš„è¦æ±‚ï¼Œåœ¨å•çº¿ç¨‹ä¸ºä¸»çš„å¹´ä»£æ²¡æœ‰æ˜æ˜¾çš„å¥½å¤„ï¼Œåè€Œå¸¦æ¥äº†å¯¹ <code>T</code> çš„é¢å¤–è¦æ±‚ã€‚</p><h2><a href="https://time.geekbang.org/column/article/174434">ç¬¬ 5 è®²</a></h2><p><strong>ä¸ºä»€ä¹ˆå¤§éƒ¨åˆ†å®¹å™¨éƒ½æä¾›äº† <code>begin</code>ã€<code>end</code> ç­‰æ–¹æ³•ï¼Ÿ</strong></p><p>ç­”ï¼šå®¹å™¨æä¾›äº† <code>begin</code> å’Œ <code>end</code> æ–¹æ³•ï¼Œå°±æ„å‘³ç€æ˜¯å¯ä»¥è¿­ä»£ï¼ˆéå†ï¼‰çš„ã€‚å¤§éƒ¨åˆ†å®¹å™¨éƒ½å¯ä»¥ä»å¤´åˆ°å°¾éå†ï¼Œå› è€Œä¹Ÿå°±éœ€è¦æä¾›è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p><p><strong>ä¸ºä»€ä¹ˆå®¹å™¨æ²¡æœ‰ç»§æ‰¿ä¸€ä¸ªå…¬ç”¨çš„åŸºç±»ï¼Ÿ</strong></p><p>ç­”ï¼šC++ ä¸æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œå°¤å…¶åœ¨æ ‡å‡†å®¹å™¨çš„è®¾è®¡ä¸Šä¸»è¦ä½¿ç”¨å€¼è¯­ä¹‰ï¼Œä½¿ç”¨å…¬å…±åŸºç±»å®Œå…¨æ²¡æœ‰ç”¨å¤„ã€‚</p><h2><a href="https://time.geekbang.org/column/article/176842">ç¬¬ 7 è®²</a></h2><p><strong>ç›®å‰è¿™ä¸ªè¾“å…¥è¡Œè¿­ä»£å™¨çš„è¡Œä¸ºï¼Œåœ¨ä»€ä¹ˆæƒ…å†µä¸‹å¯èƒ½å¯¼è‡´æ„æ–™ä¹‹å¤–çš„åæœï¼Ÿ</strong></p><p>ç­”ï¼š</p><pre><code class="language-c++">#include &lt;fstream&gt;
#include &lt;iostream&gt;
#include "istream_line_reader.h"

using namespace std;

int main()
{
  ifstream ifs{"test.cpp"};
  istream_line_reader reader{ifs};
  auto begin = reader.begin();
  for (auto it = reader.begin();
    it != reader.end(); ++it) {
    cout &lt;&lt; *it &lt;&lt; '\n';
  }
}
</code></pre><p>ä»¥ä¸Šä»£ç ï¼Œå› ä¸º begin å¤šè°ƒç”¨äº†ä¸€æ¬¡ï¼Œè¾“å‡ºå°±å°‘äº†ä¸€è¡Œâ€¦â€¦</p><p><strong>è¯·å°è¯•ä¸€ä¸‹æ”¹è¿›è¿™ä¸ªè¾“å…¥è¡Œè¿­ä»£å™¨ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ¶ˆé™¤è¿™ç§æ„å¤–ã€‚å¦‚æœå¯ä»¥ï¼Œè¯¥æ€ä¹ˆåšï¼Ÿå¦‚æœä¸å¯ä»¥ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</strong></p><p>ç­”ï¼šå¾ˆå›°éš¾ã€‚æ¯”å¦‚ï¼Œæ–‡ä»¶å¦‚æœä¸ºç©ºçš„è¯ï¼Œä»è¿­ä»£å™¨çš„è¡Œä¸ºè§’åº¦ï¼Œ<code>begin()</code> åº”è¯¥ç­‰äº <code>end()</code>â€”â€”ä¸é¢„å…ˆè¯»å–ä¸€æ¬¡çš„è¯ï¼Œå°±æ— æ³•è·çŸ¥è¿™ä¸ªç»“æœã€‚è¿™æ ·çš„æ”¹é€ æ€»ä½“çœ‹èµ·æ¥å¾ˆä¸å€¼ï¼Œå› æ­¤ä¸€èˆ¬éƒ½ä¸ä¼šé€‰æ‹©è¿™æ ·åšã€‚</p><h2><a href="https://time.geekbang.org/column/article/178940">ç¬¬ 10 è®²</a></h2><p><strong>è¿™è®²é‡Œæˆ‘ä»¬æ²¡æœ‰æ·±å…¥è®¨è®ºèµ‹å€¼ï¼›è¯·ä½ æ€è€ƒä¸€ä¸‹ï¼Œå¦‚æœä¾‹å­é‡Œæ”¹æˆèµ‹å€¼ï¼Œä¼šæœ‰ä»€ä¹ˆæ ·çš„å˜åŒ–ï¼Ÿ</strong></p><p>ç­”ï¼šè¿”å›å¯¹è±¡éƒ¨åˆ†çš„è®¨è®ºæ²¡æœ‰å˜åŒ–ã€‚å¯¹è±¡çš„ç§»åŠ¨èµ‹å€¼æ“ä½œåº”å½“å®ç°æˆæ— å¼‚å¸¸ï¼Œä»¥ç¡®ä¿æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚</p><p>è¿”å›å€¼ä¼˜åŒ–åœ¨èµ‹å€¼æƒ…å†µä¸‹ä¼šå¤±æ•ˆã€‚æ›´ä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œé™¤ééœ€è¦æŒç»­æ›´æ–°æŸä¸ªå˜é‡ï¼Œæ¯”å¦‚åœ¨ <code>vector</code> å°¾éƒ¨è¿½åŠ æ•°æ®ï¼Œå°½é‡å¯¹å˜é‡è¿›è¡Œä¸€æ¬¡æ€§èµ‹å€¼ã€ä¸åç»­ä¿®æ”¹ã€‚è¿™æ ·çš„ä»£ç æ›´å®¹æ˜“æ¨ç†ï¼Œæ›´ä¸å®¹æ˜“åœ¨åç»­ä¿®æ”¹ä¸­å‡ºé”™ï¼Œä¹Ÿæ›´èƒ½è®©ç¼–è¯‘å™¨åšï¼ˆè¿”å›å€¼ï¼‰ä¼˜åŒ–ã€‚</p><h2><a href="https://time.geekbang.org/column/article/179357">ç¬¬ 11 è®²</a></h2><p><strong>ä¸ºä»€ä¹ˆè¯´ UTF-32 å¤„ç†ä¼šæ¯”è¾ƒç®€å•ï¼Ÿ</strong></p><p>ç­”ï¼šUTF-32 ä¸‹ï¼Œä¸€ä¸ªå­—ç¬¦å°±æ˜¯ä¸€ä¸ªåŸºæœ¬çš„å¤„ç†å•ä½ï¼Œä¸€èˆ¬ä¸ä¼šå‡ºç°ä¸€ä¸ªå­—ç¬¦è·¨å¤šä¸ªå¤„ç†å•ä½çš„æƒ…å†µï¼ˆUTF-8 å’Œ UTF-16 ä¸‹ä¼šå‘ç”Ÿï¼‰ã€‚</p><p><strong>ä½ çŸ¥é“ä»€ä¹ˆæƒ…å†µä¸‹ UTF-32 ä¹Ÿå¹¶ä¸é‚£ä¹ˆç®€å•å—ï¼Ÿ</strong></p><p>ç­”ï¼šUnicode ä¸‹æœ‰æ‰€è°“çš„ä¿®é¥°å­—ç¬¦ï¼Œç”¨æ¥ä¿®é¥°å‰ä¸€ä¸ªå­—ç¬¦ã€‚æŒ‰ Unicode çš„å¤„ç†è§„åˆ™ï¼Œè¿™äº›å­—ç¬¦åº”è¯¥å’ŒåŸºæœ¬å­—ç¬¦ä¸€èµ·å¤„ç†ï¼ˆå¦‚æ–­è¡Œä¹‹ç±»ï¼‰ã€‚æ‰€ä»¥ UTF-32 ä¸‹ä¹Ÿä¸å¯ä»¥åœ¨ä»»æ„å•ä½å¤„ç²—æš´æ–­å¼€å¤„ç†ã€‚</p><p><strong>å“ªç§ UTF ç¼–ç æ–¹å¼ç©ºé—´å­˜å‚¨æ•ˆç‡æ¯”è¾ƒé«˜ï¼Ÿ</strong></p><p>ç­”ï¼šè§†å­˜å‚¨çš„å†…å®¹è€Œå®šã€‚</p><p>æ¯”å¦‚ï¼Œå¦‚æœå†…å®¹ä»¥ ASCII ä¸ºä¸»ï¼ˆå¦‚æºä»£ç ï¼‰ï¼Œé‚£ UTF-8 æ•ˆç‡æœ€é«˜ã€‚å¦‚æœå†…å®¹ä»¥ä¸€èˆ¬çš„ä¸­æ–‡æ–‡æœ¬ä¸ºä¸»ï¼Œé‚£ UTF-16 æ•ˆç‡æœ€é«˜ã€‚</p><h2><a href="https://time.geekbang.org/column/article/179363">ç¬¬ 12 è®²</a></h2><p><strong>ä¸ºä»€ä¹ˆå¹¶éæ‰€æœ‰çš„è¯­è¨€éƒ½æ”¯æŒè¿™äº›ä¸åŒçš„å¤šæ€æ–¹å¼ï¼Ÿ</strong></p><p>ç­”ï¼šæ’é™¤è®¾è®¡ç¼ºé™·çš„æƒ…å†µï¼Œè¯­è¨€æ”¯æŒå“ªäº›å¤šæ€æ–¹å¼ï¼ŒåŸºæœ¬ä¸Šå–å†³äºè¯­è¨€æœ¬èº«åœ¨ç±»å‹æ–¹é¢çš„ç‰¹æ€§ã€‚</p><p>ä»¥ Python ä¸ºä¾‹ï¼Œå®ƒæ˜¯åŠ¨æ€ç±»å‹çš„è¯­è¨€ã€‚æ‰€ä»¥å®ƒä¸ä¼šæœ‰çœŸæ­£çš„é™æ€å¤šæ€ã€‚ä½†å’Œé™æ€ç±»å‹çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä¸åŒï¼Œå®ƒçš„è¿è¡ŒæœŸå¤šæ€ä¸éœ€è¦ç»§æ‰¿ã€‚æ²¡æœ‰å‚æ•°åŒ–å¤šæ€åˆçœ‹æ˜¯ä¸ªç¼ºé™·ï¼Œä½†ç”±äº Python çš„åŠ¨æ€å‚æ•°ç³»ç»Ÿå…è®¸é»˜è®¤å‚æ•°å’Œå¯å˜å‚æ•°ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå‚æ•°åŒ–å¤šæ€èƒ½åšå¾—åˆ°è€Œ Python åšä¸åˆ°çš„äº‹ã€‚</p><h2><a href="https://time.geekbang.org/column/article/185189">ç¬¬ 17 è®²</a></h2><p><strong>æƒ³ä¸€æƒ³ï¼Œä½ å¦‚ä½•å¯ä»¥å®ç°ä¸€ä¸ªæƒ°æ€§çš„è¿‡æ»¤å™¨ï¼Ÿ</strong></p><p>ç­”ï¼š</p><pre><code class="language-c++">#include &lt;iterator&gt;

using namespace std;

template &lt;typename I, typename F&gt;
class filter_view {
public:
  class iterator {
  public:
    typedef ptrdiff_t
      difference_type;
    typedef
      typename iterator_traits&lt;
        I&gt;::value_type value_type;
    typedef
      typename iterator_traits&lt;
        I&gt;::pointer pointer;
    typedef
      typename iterator_traits&lt;
        I&gt;::reference reference;
    typedef forward_iterator_tag
      iterator_category;

    iterator(I current, I end, F cond)
      : current_(current)
      , end_(end)
      , cond_(cond)
    {
      if (current_ != end_ &amp;&amp;
          !cond_(*current_)) {
        ++*this;
      }
    }
    iterator&amp; operator++()
    {
      while (current_ != end_) {
        ++current_;
        if (cond_(*current_)) {
          break;
        }
      }
      return *this;
    }
    iterator operator++(int)
    {
      auto temp = *this;
      ++*this;
      return temp;
    }
    reference operator*() const
    {
      return *current_;
    }
    pointer operator-&gt;() const
    {
      return &amp;*current_;
    }

    bool operator==(const iterator&amp; rhs)
    {
      return current_ == rhs.current_;
    }
    bool operator!=(const iterator&amp; rhs)
    {
      return !operator==(rhs);
    }

  private:
    I current_;
    I end_;
    F cond_;
  };
  filter_view(I begin, I end,
              F cond)
    : begin_(begin)
    , end_(end)
    , cond_(cond)
  {}
  iterator begin() const
  {
    return iterator(begin_, end_, cond_);
  }
  iterator end() const
  {
    return iterator(end_, end_, cond_);
  }

private:
  I begin_;
  I end_;
  F cond_;
};
</code></pre><h2><a href="https://time.geekbang.org/column/article/185899">ç¬¬ 18 è®²</a></h2><p><strong>æˆ‘å±•ç¤ºäº† <code>compose</code> å¸¦ä¸€ä¸ªæˆ–æ›´å¤šå‚æ•°çš„æƒ…å†µã€‚ä½ è§‰å¾— <code>compose</code> ä¸å¸¦ä»»ä½•å‚æ•°è¯¥å¦‚ä½•å®šä¹‰ï¼Ÿå®ƒæœ‰æ„ä¹‰å—ï¼Ÿ</strong></p><p>ç­”ï¼š</p><pre><code class="language-c++">inline auto compose()
{
    return [](auto&amp;&amp; x) -&gt; decltype(auto)
    {
        return std::forward&lt;decltype(x)&gt;(x);
    };
}
</code></pre><p>è¿™ä¸ªå‡½æ•°æŠŠå‚æ•°åŸå°ä¸åŠ¨åœ°ä¼ å›ã€‚å®ƒçš„æ„ä¹‰ç›¸å½“äºåŠ æ³•é‡Œçš„ 0ï¼Œä¹˜æ³•é‡Œçš„ 1ã€‚</p><p>åœ¨æ™®é€šçš„åŠ æ³•é‡Œï¼Œä½ å¯èƒ½ä¸å¤ªéœ€è¦ 0ï¼›ä½†åœ¨ä¸€ä¸ªåšåŠ æ³•çš„åœ°æ–¹ï¼Œå¦‚æœåˆ«äººæƒ³å‘Šè¯‰ä½ ä¸è¦åšä»»ä½•æ“ä½œï¼Œä¼ ç»™ä½ ä¸€ä¸ª 0 æ˜¯æœ€ç®€å•çš„åšæ³•ã€‚</p><p><strong>æœ‰æ²¡æœ‰å¯èƒ½ä¸ç”¨ <code>index_sequence</code> æ¥åˆå§‹åŒ– <code>bit_count</code>ï¼Ÿå¦‚æœè¡Œï¼Œåº”è¯¥å¦‚ä½•å®ç°ï¼Ÿ</strong></p><p>ç­”ï¼šä¼¼ä¹æ²¡æœ‰é€šç”¨çš„åŠæ³•ï¼Œå› ä¸ºç›®å‰ constexpr è¦æ±‚åœ¨æ„é€ æ—¶ç›´æ¥åˆå§‹åŒ–å¯¹è±¡çš„å†…å®¹ã€‚</p><p>ä½†æ˜¯ï¼Œåˆ°äº† C++20ï¼Œå…è®¸ constexpr å¯¹è±¡é‡Œå­˜åœ¨å¹³å‡¡é»˜è®¤æ„é€ çš„æˆå‘˜ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å†™æ³•äº†ï¼š</p><pre><code class="language-c++">template &lt;size_t N&gt;
struct bit_count_t {
  constexpr bit_count_t()
  {
    for (auto i = 0U; i &lt; N; ++i) {
      count[i] = count_bits(i);
    }
  }
  unsigned char count[N];
};

constexpr bit_count_t&lt;256&gt;
  bit_count;
</code></pre><p>å½“å‰å·²ç»å‘å¸ƒçš„ç¼–è¯‘å™¨ä¸­ï¼Œæˆ‘æµ‹ä¸‹æ¥åªæœ‰ Clang èƒ½ï¼ˆåœ¨ C++17 æ¨¡å¼ä¸‹ï¼‰ç¼–è¯‘é€šè¿‡æ­¤ä»£ç ã€‚GCC 10 èƒ½åœ¨ä½¿ç”¨å‘½ä»¤è¡Œé€‰é¡¹ <code>-std=c++2a</code> æ—¶ç¼–è¯‘é€šè¿‡æ­¤ä»£ç ã€‚</p><p><strong>ä½œä¸ºä¸€ä¸ªæŒ‘æˆ˜ï¼Œä½ èƒ½è‡ªè¡Œå®ç°å‡º <code>make_integer_sequence</code> å—ï¼Ÿ</strong></p><p>ç­” 1ï¼š</p><pre><code class="language-c++">template &lt;class T, T... Ints&gt;
struct integer_sequence {};

template &lt;class T&gt;
struct integer_sequence_ns {
  template &lt;T N, T... Ints&gt;
  struct integer_sequence_helper {
    using type =
      typename integer_sequence_helper&lt;
        N - 1, N - 1,
        Ints...&gt;::type;
  };

  template &lt;T... Ints&gt;
  struct integer_sequence_helper&lt;
    0, Ints...&gt; {
    using type =
      integer_sequence&lt;T, Ints...&gt;;
  };
};

template &lt;class T, T N&gt;
using make_integer_sequence =
  typename integer_sequence_ns&lt;T&gt;::
    template integer_sequence_helper&lt;
      N&gt;::type;
</code></pre><p>å¦‚æœä¸€å¼€å§‹å†™æˆ <code>template &lt;class T, T N, T... Ints&gt; struct integer_sequence_helper</code> çš„è¯ï¼Œå°±ä¼šé‡åˆ°é”™è¯¯â€œnon-type template argument specializes a template parameter with dependent type â€˜Tâ€™â€ï¼ˆéç±»å‹çš„æ¨¡æ¿å®å‚ç‰¹åŒ–äº†ä¸€ä¸ªä½¿ç”¨ä¾èµ–ç±»å‹çš„â€˜Tâ€™çš„æ¨¡æ¿å½¢å‚ï¼‰ã€‚è¿™æ˜¯ç›®å‰çš„ C++ æ ‡å‡†æ‰€ä¸å…è®¸çš„å†™æ³•ï¼Œæ”¹å†™æˆåµŒå¥—ç±»å½¢å¼å¯ä»¥ç»•è¿‡è¿™ä¸ªé—®é¢˜ã€‚</p><p>ç­” 2ï¼š</p><pre><code class="language-c++">template &lt;class T, T... Ints&gt;
struct integer_sequence {};

template &lt;class T, T N, T... Is&gt;
auto make_integer_sequence_impl()
{
  if constexpr (N == 0) {
    return integer_sequence&lt;
      T, Is...&gt;();
  } else {
    return make_integer_sequence_impl&lt;
      T, N - 1, N - 1, Is...&gt;();
  }
}

template &lt;class T, T N&gt;
using make_integer_sequence =
  decltype(
    make_integer_sequence_impl&lt;
      T, N&gt;());
</code></pre><p>è¿™åˆæ˜¯ä¸€ä¸ª <code>constexpr</code> èƒ½ç®€åŒ–è¡¨è¾¾çš„ä¾‹å­ã€‚</p><h2><a href="https://time.geekbang.org/column/article/186689">ç¬¬ 19 è®²</a></h2><p><strong>å¹¶å‘ç¼–ç¨‹ä¸­å“ªäº›æƒ…å†µä¸‹ä¼šå‘ç”Ÿæ­»é”ï¼Ÿ</strong></p><p>ç­”ï¼šå¤šä¸ªçº¿ç¨‹é‡Œï¼Œå¦‚æœæ²¡æœ‰æˆ–ä¸èƒ½äº‹å…ˆçº¦å®šè®¿é—®é¡ºåºï¼ŒåŒæ—¶è¿›è¡Œå¯é˜»å¡çš„èµ„æºè®¿é—®ï¼Œè®¿é—®é¡ºåºå¯ä»¥å½¢æˆä¸€ä¸ªç¯ï¼Œå°±ä¼šå¼•å‘æ­»é”ã€‚</p><p>å¯é˜»å¡çš„èµ„æºè®¿é—®å¯èƒ½åŒ…æ‹¬ï¼ˆä½†ä¸é™äºï¼‰ï¼š</p><ul>
<li>äº’æ–¥é‡ä¸Šçš„ <code>lock</code> è°ƒç”¨</li>
<li>æ¡ä»¶å˜é‡ä¸Šçš„ <code>wait</code> è°ƒç”¨</li>
<li>å¯¹çº¿ç¨‹çš„ <code>join</code> è°ƒç”¨</li>
<li>å¯¹ <code>future</code> çš„ <code>get</code> è°ƒç”¨</li>
</ul><h2><a href="https://time.geekbang.org/column/article/193523">ç¬¬ 27 è®²</a></h2><p><strong>ä½ è§‰å¾— C++ REST SDK çš„æ¥å£å¥½ç”¨å—ï¼Ÿå¦‚æœå¥½ç”¨ï¼ŒåŸå› æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœä¸å¥½ç”¨ï¼Œä½ æœ‰ä»€ä¹ˆæ ·çš„æ”¹è¿›æ„è§ï¼Ÿ</strong></p><p>ç­”ï¼šä¸¾å‡ ä¸ªå¯èƒ½çš„æ”¹è¿›ç‚¹ã€‚</p><p>C++ REST SDK çš„ <code>uri::decode</code> æ¥å£è®¾è®¡æœ‰ä¸å°‘é—®é¢˜ï¼š</p><ul>
<li>æœ€ä¸¥é‡çš„ï¼Œä¸èƒ½å¯¹ query string çš„ç­‰å·å·¦è¾¹çš„éƒ¨åˆ†è¿›è¡Œ <code>decode</code>ï¼›åªèƒ½å…ˆ <code>split_query</code> å† <code>decode</code>ï¼Œæ­¤æ—¶ç­‰å·å·¦è¾¹å·²ç»åœ¨ <code>map</code> é‡Œï¼Œä¸èƒ½ä¿®æ”¹â€”â€”è¦ä¿®æ”¹éœ€è¦å»ºä¸€ä¸ªæ–°çš„ <code>map</code>ã€‚</li>
<li>ç›®å‰çš„å®ç°å¯¹â€œ+â€ä¸èƒ½é‡æ–°è¿˜åŸæˆç©ºæ ¼ã€‚</li>
</ul><p>æ¢ä¸ªè¯´æ³•ï¼Œç›®å‰çš„æ¥å£èƒ½æ­£ç¡®å¤„ç†â€œ/search?q=query%20stringâ€è¿™æ ·çš„è¯·æ±‚ï¼Œä½†ä¸èƒ½æ­£ç¡®å¤„ç†â€œ/search?%71=query+stringâ€è¿™æ ·çš„è¯·æ±‚ã€‚</p><p>åº”å½“æœ‰ä¸€ä¸ª <code>split_query_and_decode</code> æ¥å£ï¼ŒåŒæ—¶æ‰§è¡Œåˆ†å‰²å’Œè§£ç ã€‚</p><p>å¦å¤–ï¼Œ<code>json</code> çš„æ¥å£ä¹Ÿè¿˜æ˜¯ä¸å¤Ÿå¥½ç”¨ï¼Œæœ€ä¸»è¦æ˜¯æ²¡æœ‰ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨çš„æ„é€ ã€‚æ„é€ å¤æ‚çš„ JSON ç»“æ„æœ‰ç‚¹å•°å—¦äº†ã€‚</p><p><code>fstream::open_ostream</code> ç¼ºçœè¡Œä¸ºè·Ÿ <code>std::ofstream</code> ä¸ä¸€æ ·åº”è¯¥æ˜¯ä¸ª bugã€‚åº”å½“è¦ä¹ˆä¿®æ­£æ¥å£ï¼ˆæ¥å£ç¼ºçœå‚æ•°é‡Œå¸¦ä¸Š <code>trunc</code>ï¼‰ï¼Œè¦ä¹ˆä¿®æ­£å®ç°ï¼ˆè·Ÿ <code>std::ofstream</code> ä¸€æ ·æŠŠ <code>out</code> å½“æˆ <code>out|trunc</code>ï¼‰ã€‚</p><h2><a href="https://time.geekbang.org/column/article/194005">ç¬¬ 28 è®²</a></h2><p><strong>â€œæ¦‚å¿µâ€å¯ä»¥ä¸ºå¼€å‘å…·ä½“å¸¦æ¥å“ªäº›å¥½å¤„ï¼Ÿåè¿‡æ¥ï¼Œè´Ÿé¢çš„å½±å“åˆå¯èƒ½ä¼šæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><p>ç­”ï¼šå¯¹äºä»£ç ä¸¥è°¨ã€å…·æœ‰å½¢å¼åŒ–æ€ç»´çš„äººï¼Œâ€œæ¦‚å¿µâ€æ˜¯ä¸ªç¦éŸ³ï¼Œå®ƒä¸ä»…å¯ä»¥å¤§é‡æ¶ˆé™¤ SFINAE çš„ä½¿ç”¨ï¼Œè¿˜èƒ½ä»¥è¾ƒä¸ºç²¾ç¡®å’Œå½¢å¼åŒ–çš„å½¢å¼åœ¨ä»£ç é‡Œå†™å‡ºå¯¹ç±»å‹çš„è¦æ±‚ï¼Œä½¿å¾—ä»£ç å˜å¾—æ¸…æ™°ã€æ˜“è¯»ã€‚</p><p>ä½†åè¿‡æ¥è¯´ï¼Œâ€œæ¦‚å¿µâ€æ¯”é¸­å­ç±»å‹æ›´ä¸¥æ ¼ã€‚åœ¨ä»£ç åŠ ä¸Šæ¦‚å¿µçº¦æŸåï¼Œç›¸å…³ä»£ç å¾ˆå¯èƒ½éœ€è¦ä¿®æ”¹æ‰èƒ½æ»¡è¶³æ¦‚å¿µçš„è¦æ±‚ï¼Œå³ä½¿ä¹‹å‰åœ¨å®é™…ä½¿ç”¨ä¸­å¯èƒ½å·²ç»å®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚ä»è¿­ä»£å™¨çš„è§’åº¦ï¼Œå®é™…ä½¿ç”¨ä¸­æœ€å°åŠŸèƒ½é›†æ˜¯æ„é€ ã€å¯å¤åˆ¶ã€<code>*</code>ã€å‰ç½® <code>++</code>ã€ä¸ sentinel ç±»å‹å¯¹è±¡çš„ <code>!=</code>ï¼ˆå•ä¸€å½¢å¼ï¼‰ã€‚è€Œä¸ºäº†æ»¡è¶³è¿­ä»£å™¨æ¦‚å¿µï¼Œåˆ™è¦é¢å¤–ç¡®ä¿æ»¡è¶³ä»¥ä¸‹å„ç‚¹ï¼š</p><ul>
<li>å¯é»˜è®¤åˆå§‹åŒ–</li>
<li>åœ¨ iterator ç±»å‹å’Œ sentinel ç±»å‹ä¹‹é—´ï¼Œéœ€è¦å®šä¹‰å®Œæ•´çš„å››ä¸ª <code>==</code> å’Œ <code>!=</code> è¿ç®—ç¬¦</li>
<li>å®šä¹‰è¿­ä»£å™¨çš„æ ‡å‡†å†…éƒ¨ç±»å‹ï¼Œå¦‚ <code>difference_type</code> ç­‰</li>
</ul><p>ä»¥ä¸Šå°±æ˜¯ä»Šå¤©çš„å…¨éƒ¨å†…å®¹äº†ï¼Œå¸Œæœ›èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼å¦‚æœä½ æœ‰æ›´å¤šé—®é¢˜ï¼Œè¿˜æ˜¯è¯·ä½ åœ¨ç•™è¨€åŒºä¸­æå‡ºï¼Œæˆ‘ä¼šä¸€ä¸€è§£ç­”ã€‚</p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            æ™šé£Â·å’Œç…¦  2020-02-13 02:43:53
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            è€å¸ˆï¼Œcè¯­è¨€å¯ä»¥é€šè¿‡å“ªäº›æ–¹å¼å®ç°c++ä¸­çš„ç§æœ‰æˆå‘˜å‘¢ï¼Ÿè°¢è°¢è€å¸ˆğŸ˜ƒğŸ˜ƒğŸ˜ƒ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2020-02-13 23:33:07</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">å®ç°ï¼Ÿä¸å¤ªæ˜ç™½ä½ çš„æ„æ€äº†ã€‚ç§æœ‰åªæ˜¯ç¼–è¯‘æ—¶çš„è®¿é—®æ§åˆ¶ï¼Œä¸æ˜¯è¿è¡Œæ—¶çš„ã€‚è€ŒCå®Œå…¨æ²¡æœ‰ç¼–è¯‘æ—¶çš„è®¿é—®æ§åˆ¶çš„æœºåˆ¶ã€‚</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;            line-height:1.2">
            å¹»å¢ƒä¹‹æ¡¥  2020-02-12 23:36:23
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;            word-break:break-all;line-height:1.6">
            &quot;å¦‚æœå†…å®¹ä»¥ä¸€èˆ¬çš„ä¸­æ–‡æ–‡æœ¬ä¸ºä¸»ï¼Œé‚£ UTF-16 æ•ˆç‡æœ€é«˜ã€‚&quot;<br>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿä¸­æ–‡ä¸åº”è¯¥æ˜¯ GBKæ›´çœç©ºé—´å—ï¼Ÿ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;        line-height:1.2">ä½œè€…å›å¤2020-02-13 23:43:16</div>
    <div style="color:#353535;font-weight:400;white-space:normal;        word-break:break-all;line-height:1.6">é—®é¢˜æ˜¯â€œå“ªç§ UTF ç¼–ç æ–¹å¼ç©ºé—´å­˜å‚¨æ•ˆç‡æ¯”è¾ƒé«˜â€ã€‚GBK ä¸èƒ½æ”¯æŒå¾ˆå¤šå…¶ä»–è¯­è¨€ï¼Œä¸åœ¨è€ƒè™‘èŒƒå›´å†…ã€‚</div>
</div>
            
    </div>
</li>
            </ul>
</div>
</body>
</html>